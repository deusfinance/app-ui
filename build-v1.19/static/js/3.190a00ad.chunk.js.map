{"version":3,"sources":["store/dei/index.js","helper/deiHelper.js","hooks/useDei.js","helper/multicall.js","components/App/Dei/CostBox.jsx","components/App/Dei/LinkBox.jsx","utils/addTokens.js","components/App/Dei/BuyDEUS.jsx","components/App/Dei/SwapAction.jsx","components/App/Dei/SelectBox.jsx","components/App/Dei/Chains.jsx","constant/staking.js"],"names":["collatRatioState","atom","key","default","deiPricesState","selector","coolDownState","availableRecollatState","husdPoolDataState","baseUrl","dollarDecimals","collatUsdPrice","LENGTH_COLLAT","COLLAT_PRICE","ChainId","BSC_TESTNET","BSC","makeCostData","deiPrice","collatRatio","poolBalance","ceiling","decimals","dp","BigNumber","toFixed","cr","pc","formatUnitAmount","div","TEN","pow","av","minus","name","value","makeCostDataRedeem","chainId","ETH","cToken","collateralToken","pb","symbol","getStakingData","conf","account","address","stakingContract","params","getStakingTokenData","depositToken","getHusdPoolData","collat_usd_price","LEN","collaterals","i","push","calls","COLLATERAL_POOL_ADDRESS","SendWithToast","fn","message","payload","hash","customSend","from","send","once","tx","CustomTransaction","TransactionState","LOADING","SUCCESS","FAILED","DeiDeposit","depositedToken","amount","web3","console","log","getToWei","getDeiStakingContract","methods","deposit","DeiWithdraw","withdrawToken","withdraw","buyBackDEUS","amountIn","deus_price","expire_block","signature","pool_collateral_price","getCollateralPoolContract","RecollateralizeDEI","collateral_price","recollateralizeDEI","mint1t1DEI","collateral_amount","mintFractional","deus_amount","deus_current_price","expireBlock","mintFractionalDEI","mintAlgorithmic","deus_amount_d18","mintAlgorithmicDEI","redeem1to1Dei","redeem1t1DEI","redeemFractionalDei","redeemFractionalDEI","redeemAlgorithmicDei","redeemAlgorithmicDEI","getClaimAll","a","collectRedemption","getDeiInfo","getDeiContract","dei_info","call","makeDeiRequest","path","fetcher","isProxyMinter","token","isPair","getAmountOutDeusSwap","fromCurrency","isZero","undefined","amountInToWei","collateralPriceWei","deusPriceWei","method","erc20Path","MINT_PATH","COLLATERAL_ADDRESS","error","getDeusSwapContract","getAmountOutProxy","getNewProxyMinterContract","getZapAmountsOut","currency","zapperAddress","result","DEI_COLLATERAL_ZAP","getZapContract","getAmountOutLPCollateral","DEUS_ADDRESS","getAmountOutLPDEUS","DEI_ADDRESS","getAmountOutLPDEI","getAmountOutLPERC20ORNativecoin","zapIn","minLpAmount","amountOutParams","transferResidual","proxyTuple","length","DEI_DEUS_ZAP","zapInNativecoin","zapInDEUS","zapInDEI","zapInERC20","zapInCollateral","useZap","stakingInfo","slippage","amountOut","validChainId","useWeb3","useWeb3React","onZap","useCallback","minLpAmountToWei","multipliedBy","Number","zapperContract","title","useGetAmountsOutZap","debouncedAmountIn","getAmountsOut","useDeposit","onDeposit","useWithdraw","onWithdraw","useClaimAll","handleClaimAll","onClaimAll","useRedeem","to1Currency","to2Currency","amountOut1","amountOut2","handleRedeem","onRedeem","useMint","from1Currency","from2Currency","toCurrency","amountIn1","amountIn2","proxy","onMint","amount1toWei","amountOutToWei","minAmountOutToWei","times","amount2toWei","toString","param","useSwap","useStakingInfo","useCrossWeb3","fastRefresh","useRefresh","useState","res","setRes","useEffect","multicall","StakingDeiAbi","mul","users","pendingReward","depositAmount","paidReward","RemoveTrailingZero","fromWei","formatBalance3","get","useTokenInfo","ERC20Abi","allowance","depositTokenWalletBalance","totalDepositBalance","useHusdPoolData","slowRefresh","setHusdPoolData","useSetRecoilState","HusdPoolAbi","collatDollarBalance","availableExcessCollatDV","pool_ceiling","redemption_fee","minting_fee","buyback_fee","recollat_fee","recollateralizePaused","buyBackPaused","mintPaused","redeemPaused","bonus_rate","redemption_delay","redeemDEUSBalances","redeemCollateralBalances","updateState","toNumber","useCollatRatio","setCollatRatio","useDeiUpdate","useDeiPrices","useDeiUpdateRedeem","setRefreshRatio","useAllowance","contractAddress","fastUpdate","setAllowance","tokenAddress","contract","useCrossERC20","ZERO","ethers","constants","MaxUint256","fetchAllowance","abi","multi","getMultiCallContract","itf","Interface","calldata","map","toLowerCase","encodeFunctionData","aggregate","returnData","decodeFunctionResult","MainWrapper","styled","FeeWrapper","FeeTitle","span","FeePrice","theme","mediaWidth","upToSmall","CostBox","type","deusPrices","useRecoilValue","dei_price","poolCeiling","costs","useMemo","cost","index","src","width","height","alt","FlexDiv","TitleImage","img","TitleText","Line","EachUrl","LinkBox","urls","url","to","link","addToken","base","image","logo","window","ethereum","request","options","then","success","Error","catch","DeiTokenBox","deusToken","DEITokens","className","textDecoration","style","marginLeft","marginRight","href","borderRadius","errors","WrapActions","ButtonSwap","ButtonSyncActive","bgColor","grad3","text1_2","fontSize","WrapStep","FlexCenter","CycleNumber","active","border1","text1","SwapAction","text","isPreApproved","swapState","TokensMap","isApproved","loading","swapLoading","validNetworks","handleApprove","handleSwap","targetToken","isMint","showWallets","setShowWallets","indexOf","isGt","balance","isNaN","checkError","onClick","position","right","MainItemsDiv","NameItemsDiv","chain","currRow","SelectBox","networks","id","addRPC","NameChainId","toUpperCase","Chains","opacity","color","StakingConfig","MATIC","pic1","pic2","deiCollateralLpToken","DEI_COLLATERAL_STAKING","provideLink","apy","deiDeusLpToken","DEI_DEUS_STAKING","DeusNativeLpToken","DEUS_NATIVE_STAKING"],"mappings":"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","file":"static/js/3.190a00ad.chunk.js","sourcesContent":["import { atom, selector } from 'recoil';\n\n\nexport const collatRatioState = atom({\n    key: 'collatRatio',\n    default: null,\n});\n\nexport const collatRatioPercent = selector({\n    key: 'collatRatioPercent',\n    default: null,\n});\n\n\nexport const deiPricesState = atom({\n    key: 'deiPrices',\n    default: {},\n});\n\nexport const coolDownState = atom({\n    key: 'coolDown',\n    default: 0,\n});\n\nexport const availableRecollatState = atom({\n    key: 'availableRecollat',\n    default: null,\n});\n\nexport const availableBuybackState = atom({\n    key: 'availableBuyback',\n    default: null,\n});\n\nexport const mintingFeeState = atom({\n    key: 'mintingFee',\n    default: null,\n});\n\nexport const redemptionFeeState = atom({\n    key: 'redemptionFee',\n    default: null,\n});\n\nexport const buyBackFeeState = atom({\n    key: 'buyBackFee',\n    default: null,\n});\n\nexport const recollatFeeState = atom({\n    key: 'recollatFee',\n    default: null,\n});\n\nexport const husdPoolDataState = atom({\n    key: 'husdPoolData',\n    default: {},\n});\n\nexport const APYState = atom({\n    key: 'APY',\n    default: \"\",\n});\n","import BigNumber from \"bignumber.js\"\nimport { COLLATERAL_ADDRESS, COLLATERAL_POOL_ADDRESS, DEI_ADDRESS, DEI_COLLATERAL_ZAP, DEI_DEUS_ZAP, DEUS_ADDRESS, MINT_PATH } from \"../constant/contracts\"\nimport { isZero, TEN } from \"../constant/number\"\nimport { collateralToken } from \"../constant/token\"\nimport { ChainId } from \"../constant/web3\"\nimport { TransactionState } from \"../utils/constant\"\nimport { CustomTransaction, getTransactionLink } from \"../utils/explorers\"\nimport { fetcher, formatUnitAmount } from \"../utils/utils\"\nimport { getDeiContract, getDeiStakingContract, getCollateralPoolContract, getZapContract, getNewProxyMinterContract, getDeusSwapContract } from \"./contractHelpers\"\nimport { getToWei } from \"./formatBalance\"\n\nconst baseUrl = \"https://oracle4.deus.finance/dei\"\n\nexport const dollarDecimals = 6\nexport const collatUsdPrice = \"1000000\"\nconst LENGTH_COLLAT = {}\n\nconst COLLAT_PRICE = {\n    [ChainId.BSC_TESTNET]:\"1000000000000000000\",\n    [ChainId.BSC]:\"1000000000000000000\",\n}\n\nexport const makeCostData = (deiPrice, collatRatio, poolBalance = null, ceiling = null,decimals=6) => {\n    const dp = deiPrice ? `$${new BigNumber(deiPrice).toFixed(2)}` : null\n    const cr = collatRatio !== null ? `${new BigNumber(collatRatio).toFixed(2)}%` : null\n    const pc = poolBalance !== null && ceiling !== null ? formatUnitAmount(poolBalance) + ' / ' + formatUnitAmount(new BigNumber(ceiling).div(TEN.pow(decimals-6))) : null\n    const av = pc ? formatUnitAmount(new BigNumber(ceiling).minus(poolBalance).div(TEN.pow(decimals-6))) : null\n    return [{\n        name: 'DEI PRICE',\n        value: dp\n    }, {\n        name: 'COLLATERAL RATIO',\n        value: cr\n    }, {\n        name: 'POOL BALANCE / CEILING',\n        value: pc\n    }, {\n        name: 'AVAILABLE TO MINT',\n        value: av\n    }]\n}\n\nexport const makeCostDataRedeem = (collatRatio, poolBalance, chainId = ChainId.ETH) => {\n    const cToken = collateralToken[chainId]\n    const cr = collatRatio !== null ? `${new BigNumber(collatRatio).toFixed(2)}%` : null\n    const pb = poolBalance !== null ? `${formatUnitAmount(poolBalance)} ${cToken.symbol}` : null\n    return [{\n        name: 'COLLATERAL RATIO',\n        value: cr\n    }, {\n        name: 'POOL BALANCE',\n        value: pb\n    }]\n}\n\nexport const makeCostDataBuyBack = (deus_price, dei_price, pool, buyBack, recollateralize, address, chainId) => {\n    if (!chainId) return []\n    const cToken = collateralToken[chainId]\n    const deusPrice = deus_price !== null && !isNaN(deus_price) ? `$${new BigNumber(deus_price).toFixed(3)}` : null\n    const deiPrice = dei_price !== null && !isNaN(dei_price) ? `$${new BigNumber(dei_price).toFixed(3)}` : null\n    const p = pool ? pool : null\n    const bb = buyBack !== null && !isNaN(buyBack) ? `${formatUnitAmount(buyBack)} DEUS` : null\n    const rc = recollateralize !== null && !isNaN(recollateralize) ? `${formatUnitAmount(recollateralize)} ${cToken.symbol}` : null\n\n    return [{\n        name: 'EXCHANGE RATES',\n        title1: cToken.symbol,\n        value1: deiPrice,\n        title2: 'DEUS: ',\n        value2: deusPrice\n    }, {\n        name: 'AVAILABLE VALUE',\n        title1: 'To Buyback: ',\n        value1: bb,\n        title2: 'To Recollateralize: ',\n        value2: rc\n    }, {\n        name: 'POOL ðŸŒŠ',\n        value1: p,\n        isLink: true,\n        path: getTransactionLink(chainId, address)\n    }]\n}\n\n//MULTICALL Array\nexport const getStakingData = (conf, account) => {\n    if (!conf) return []\n    return [\n        {\n            address: conf.stakingContract,\n            name: \"users\",\n            params: [account]\n        },\n        {\n            address: conf.stakingContract,\n            name: \"pendingReward\",\n            params: [account]\n        }\n    ]\n}\nexport const getStakingTokenData = (conf, account) => {\n    if (!account) return []\n    return [\n        {\n            address: conf.depositToken.address,\n            name: \"allowance\",\n            params: [account, conf.stakingContract]\n        },\n        {\n            address: conf.depositToken.address,\n            name: \"balanceOf\",\n            params: [account]\n        },\n        {\n            address: conf.depositToken.address,\n            name: \"balanceOf\",\n            params: [conf.stakingContract]\n        }\n    ]\n}\n\nexport const getHusdPoolData = (chainId = ChainId.ETH, collat_usd_price, account) => {\n    const LEN = LENGTH_COLLAT[chainId] ?? 3\n    let collaterals = []\n    for (let i = 0; i < LEN; i++) {\n        collaterals.push(COLLAT_PRICE[chainId] ?? collat_usd_price);\n    }\n    \n    let calls = [\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'collatDollarBalance',\n            params: [COLLAT_PRICE[chainId] ?? collat_usd_price],\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'availableExcessCollatDV',\n            params: [collaterals]\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'pool_ceiling',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redemption_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'minting_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'buyback_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'recollat_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'recollateralizePaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'buyBackPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'mintPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'bonus_rate',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redemption_delay',\n        },\n    ]\n    if (account) {\n        calls = [...calls,\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemDEUSBalances',\n            params: [account]\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemCollateralBalances',\n            params: [account]\n        }]\n    }\n    return calls\n}\n\n//WRITE FUNCTIONS\nexport const SendWithToast = (fn, account, chainId, message, payload = {}) => {\n\n    if (!fn) return\n    let hash = null\n    const value = payload.value ? { value: payload.value } : {}\n    const customSend = { from: account, ...value }\n    return fn\n        .send(customSend)\n        .once('transactionHash', (tx) => {\n            hash = tx\n            CustomTransaction(TransactionState.LOADING, {\n                hash,\n                chainId: chainId,\n                message: message,\n            })\n        })\n        .once('receipt', () => CustomTransaction(TransactionState.SUCCESS, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n        .once('error', () => CustomTransaction(TransactionState.FAILED, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n}\n\nexport const DeiDeposit = (depositedToken, amount, address, web3) => {\n    console.log(getToWei(amount, depositedToken.decimals).toFixed(0));\n    return getDeiStakingContract(web3, address)\n        .methods\n        .deposit(getToWei(amount, depositedToken.decimals).toFixed(0))\n}\n\nexport const DeiWithdraw = (withdrawToken, amount, address, web3) => {\n    return getDeiStakingContract(web3, address)\n        .methods\n        .withdraw(getToWei(amount, withdrawToken.decimals).toFixed(0))\n}\n\nexport const buyBackDEUS = (amountIn, deus_price, expire_block, signature, pool_collateral_price = \"0\", account, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .buyBackDEUS(amountIn, [pool_collateral_price], deus_price, expire_block, [signature])\n}\n\nexport const RecollateralizeDEI = (collateral_price, deus_price, expire_block, signature, amountIn, pool_collateral_price, account, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .recollateralizeDEI([amountIn, pool_collateral_price, [collateral_price], deus_price, expire_block, [signature]])\n}\n\n//HUSD MINT\nexport const mint1t1DEI = (collateral_amount, collateral_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mint1t1DEI(collateral_amount, collateral_price, expire_block, [signature])\n}\n\nexport const mintFractional = (collateral_amount, deus_amount, collateral_price, deus_current_price, expireBlock, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mintFractionalDEI(collateral_amount, deus_amount, collateral_price, deus_current_price, expireBlock, [signature])\n}\n\nexport const mintAlgorithmic = (deus_amount_d18, deus_current_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mintAlgorithmicDEI(deus_amount_d18, deus_current_price, expire_block, [signature])\n}\n\nexport const redeem1to1Dei = (amountIn, collateral_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeem1t1DEI(amountIn, collateral_price, expire_block, [signature])\n}\n\nexport const redeemFractionalDei = (collateral_price, deus_price, expire_block, signature, amountIn, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeemFractionalDEI(amountIn, collateral_price, deus_price, expire_block, [signature])\n}\n\nexport const redeemAlgorithmicDei = (deus_price, expire_block, signature, amountIn, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeemAlgorithmicDEI(amountIn, deus_price, expire_block, [signature])\n}\n\nexport const getClaimAll = async (account, web3, chainId = ChainId.ETH) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .collectRedemption()\n        .send({ from: account })\n}\n\n//READ FUNCTIONS\nexport const getDeiInfo = async (web3, chainId = ChainId.ETH, collat_usd_price = collatUsdPrice) => {\n    const LEN = LENGTH_COLLAT[chainId] ?? 3\n    let collaterals = []\n    for (let i = 0; i < LEN; i++) {\n        // console.log(COLLAT_PRICE[chainId], collat_usd_price);\n        collaterals.push(COLLAT_PRICE[chainId] ?? collat_usd_price);\n    }\n\n    return getDeiContract(web3, chainId)\n        .methods\n        .dei_info(collaterals)\n        .call()\n}\n\nexport const makeDeiRequest = async (path, chainId = 4) => {\n    return fetcher(baseUrl + path + `?chainId=${chainId}`)\n}\n\nexport const isProxyMinter = (token, isPair, collatRatio, chainId) => {\n    if (!token || !token.symbol || collatRatio === null) return null\n    if ((collatRatio === 100 && token.symbol === collateralToken[chainId]?.symbol && !isPair) ||\n        (collatRatio === 0 && token.symbol === \"DEUS\" && !isPair) ||\n        (collatRatio > 0 && collatRatio < 100 && isPair)) return false\n    return true\n}\n\n\nexport const getAmountOutDeusSwap = async (fromCurrency, amountIn, deus_price, collateral_price, web3, chainId) => {\n    //getERC202DEIInputs\n    if (!fromCurrency || !amountIn || isZero(amountIn) || deus_price === undefined) return \"\"\n    const amountInToWei = getToWei(amountIn, fromCurrency.decimals).toFixed(0)\n    const collateralPriceWei = getToWei(collateral_price, 6).toFixed(0)\n    const deusPriceWei = getToWei(deus_price, 6).toFixed(0)\n    let method = \"\"\n    let params = [amountInToWei, deusPriceWei, collateralPriceWei]\n    console.log(chainId, amountInToWei);\n\n    const erc20Path = MINT_PATH[chainId][fromCurrency.symbol]\n\n    if (fromCurrency.address === COLLATERAL_ADDRESS[chainId]) {\n        method = \"getUSDC2DEUSInputs\"\n    } else {\n        method = \"getERC202DEUSInputs\"\n        if (!erc20Path) {\n            console.error(\"INVALID PATH with \", fromCurrency)\n            return\n        }\n        params.push(erc20Path)\n    }\n    console.log(method, params);\n    return getDeusSwapContract(web3, chainId).methods[method](...params).call()\n}\n\nexport const getAmountOutProxy = async (fromCurrency, amountIn, deus_price, collateral_price, web3, chainId) => {\n    //getERC202DEIInputs\n    if (!fromCurrency || !amountIn || isZero(amountIn) || deus_price === undefined) return \"\"\n    const amountInToWei = getToWei(amountIn, fromCurrency.decimals).toFixed(0)\n    const collateralPriceWei = getToWei(collateral_price, 6).toFixed(0)\n    const deusPriceWei = getToWei(deus_price, 6).toFixed(0)\n    let method = \"\"\n    let params = [amountInToWei, deusPriceWei, collateralPriceWei]\n    console.log(chainId, amountInToWei);\n\n    const erc20Path = MINT_PATH[chainId][fromCurrency.symbol]\n\n    if (fromCurrency.address === COLLATERAL_ADDRESS[chainId]) {\n        method = \"getUSDC2DEIInputs\"\n    } else {\n        method = \"getERC202DEIInputs\"\n        if (!erc20Path) {\n            console.error(\"INVALID PATH with \", fromCurrency)\n            return\n        }\n        params.push(erc20Path)\n    }\n    console.log(method, params);\n    return getNewProxyMinterContract(web3, chainId).methods[method](...params).call()\n}\n\n\nexport const getZapAmountsOut = async (currency, amountInToWei, zapperAddress, result, web3, chainId) => {\n    const erc20Path = MINT_PATH[chainId][currency.symbol]\n\n    if (zapperAddress === DEI_COLLATERAL_ZAP[chainId]) {\n        if (currency.address === COLLATERAL_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPCollateral \", zapperAddress, amountInToWei);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPCollateral(amountInToWei).call()\n        } else if (currency.address === DEUS_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPDEUS \", amountInToWei);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPDEUS(amountInToWei, [...erc20Path]).call()\n        } else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPDEI haaa\", amountInToWei, zapperAddress);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPDEI(amountInToWei).call()\n        }\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPERC20ORNativecoin(amountInToWei, [...erc20Path]).call()\n    }\n\n    if (currency.address === DEUS_ADDRESS[chainId]) {\n        console.log(\"getAmountOutLPDEUS \", amountInToWei);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPDEUS(amountInToWei).call()\n    } else if (currency.address === DEI_ADDRESS[chainId]) {\n        console.log(\"getAmountOutLPDEI \", amountInToWei, zapperAddress);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPDEI(amountInToWei).call()\n    }\n    console.log(\"getAmountOutLPERC20ORNativecoin \", amountInToWei, result.deus_price, result.collateral_price, erc20Path);\n    return getZapContract(web3, zapperAddress, chainId)\n        .methods\n        .getAmountOutLPERC20ORNativecoin(amountInToWei, result.deus_price, result.collateral_price, erc20Path).call() // TODO  VALUE:AVAX?\n}\n\n\nexport const zapIn = (currency, zapperAddress, amountIn, minLpAmount, result, amountOutParams, transferResidual, web3, chainId) => {\n    const erc20Path = MINT_PATH[chainId][currency.symbol]\n    const { collateral_price, deus_price, expire_block, signature } = result\n\n    let proxyTuple = []\n    if (amountOutParams.length > 0)\n        proxyTuple = [\n            amountIn,\n            minLpAmount,\n            deus_price,\n            collateral_price,\n            amountOutParams[2],\n            amountOutParams[3],\n            expire_block,\n            [signature]\n        ]\n\n\n    if (zapperAddress === DEI_DEUS_ZAP[chainId]) {\n        if (currency.address === \"0x\") {\n            console.log(\"zapInNativecoin \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInNativecoin(proxyTuple, minLpAmount, erc20Path, transferResidual) // TODO  VALUE:AVAX?\n        }\n        else if (currency.address === DEUS_ADDRESS[chainId]) {\n\n            console.log(\"zapInDEUS \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEUS(amountIn, minLpAmount, transferResidual)\n        }\n        else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"zapInDEI \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEI(amountIn, minLpAmount, transferResidual)\n        }\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .zapInERC20(proxyTuple, amountIn, minLpAmount, erc20Path, transferResidual)\n\n    } else {\n        if (currency.address === \"0x\") {\n            console.log(erc20Path, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInNativecoin(erc20Path, minLpAmount, transferResidual) // TODO  VALUE:AVAX?\n        }\n        else if (currency.address === COLLATERAL_ADDRESS[chainId]) {\n            console.log(\"zapInCollateral \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInCollateral(amountIn, minLpAmount, transferResidual)\n        }\n        else if (currency.address === DEUS_ADDRESS[chainId]) {\n            console.log(\"zapInDEUS \", amountIn, minLpAmount, transferResidual, erc20Path);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEUS(amountIn, minLpAmount, transferResidual, erc20Path)\n        }\n        else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"zapInDEI \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEI(amountIn, minLpAmount, transferResidual)\n        }\n        console.log(erc20Path, amountIn, minLpAmount, transferResidual);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .zapInERC20(erc20Path, amountIn, minLpAmount, erc20Path, transferResidual)\n    }\n}\n","import useWeb3, { useCrossWeb3 } from './useWeb3'\nimport { useEffect, useState, useCallback } from \"react\"\nimport { useWeb3React } from '@web3-react/core'\nimport useRefresh from './useRefresh'\nimport BigNumber from 'bignumber.js'\nimport { fromWei, getToWei, RemoveTrailingZero } from '../helper/formatBalance'\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport HusdPoolAbi from '../config/abi/HusdPoolAbi.json'\nimport StakingDeiAbi from '../config/abi/StakingDeiAbi.json'\nimport ERC20Abi from '../config/abi/ERC20Abi.json'\nimport multicall from '../helper/multicall'\nimport { useCrossERC20 } from './useContract'\nimport { ethers } from \"ethers\";\nimport { isZero, ZERO } from \"../constant/number\";\nimport { collatRatioState, deiPricesState, husdPoolDataState, availableRecollatState } from '../store/dei'\nimport {\n    makeDeiRequest, getDeiInfo, dollarDecimals, getHusdPoolData,\n    redeem1to1Dei, redeemFractionalDei, redeemAlgorithmicDei, getClaimAll, mintFractional, mintAlgorithmic,\n    buyBackDEUS, RecollateralizeDEI, getStakingData, getStakingTokenData, DeiDeposit, DeiWithdraw, SendWithToast,\n    mint1t1DEI, collatUsdPrice, zapIn, getZapAmountsOut\n} from '../helper/deiHelper'\nimport { blockNumberState } from '../store/wallet'\nimport { formatBalance3 } from '../utils/utils'\nimport { collateralToken } from '../constant/token'\nimport { COLLATERAL_ADDRESS, DEI_ADDRESS, DEUS_ADDRESS, MINT_PATH } from '../constant/contracts'\nimport { getDeusSwapContract, getNewProxyMinterContract } from '../helper/contractHelpers'\n\n\nexport const useAPY = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { slowRefresh } = useRefresh()\n    const [apy, setApy] = useState(null)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const apy = await makeDeiRequest(\"/apy\", validChainId)\n                const apyValue = apy ? apy : null\n                setApy(apyValue)\n            } catch (error) {\n                console.log(\"useAPY \", error);\n            }\n        }\n        if (validChainId)\n            get()\n    }, [slowRefresh, web3, setApy, validChainId])\n\n    useEffect(() => {\n        setApy(null)\n    }, [validChainId])\n\n    return apy\n}\n\n\nexport const useZap = (currency, stakingInfo, amountIn, slippage, amountOut, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleZap = useCallback(async () => {\n        if ((validChainId && chainId !== validChainId) || !currency) return false\n\n        const amountInToWei = getToWei(amountIn, currency.decimals).toFixed(0)\n        // const minLpAmountToWei = getToWei(minLpAmount, 18).toFixed(0)\n        const minLpAmountToWei = new BigNumber(amountOut).multipliedBy((100 - Number(slippage)) / 100).toFixed(0, 1)\n        // const minLpAmountToWei = \"0\" //TODO\n        try {\n            let path = \"/mint-fractional\"\n            const result = await makeDeiRequest(path, validChainId)\n\n            const fn = zapIn(currency, stakingInfo.zapperContract, amountInToWei, minLpAmountToWei, result, amountOutParams, false, web3, chainId)\n            const payload = currency.address === \"0x\" ? { value: amountInToWei } : {}\n            return await SendWithToast(fn, account, chainId, `Zap ${amountIn} ${currency.symbol} to ${stakingInfo?.title} `, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [currency, stakingInfo, amountIn, amountOut, amountOutParams, validChainId, chainId, account, web3, slippage])\n    return { onZap: handleZap }\n}\n\n\n\n\nexport const useGetAmountsOutZap = (currency, zapperContract, amountIn, debouncedAmountIn, validChainId) => {\n    const web3 = useWeb3()\n\n    const handleGetAmountOut = useCallback(async () => {\n        if (!validChainId || !currency || !amountIn || amountIn === \"\" || isZero(amountIn) || !zapperContract || debouncedAmountIn !== amountIn) return \"\"\n        const amountInToWei = getToWei(amountIn, currency.decimals).toFixed(0)\n        try {\n            let result = null\n            if (currency.address !== DEUS_ADDRESS[validChainId] && currency.address !== DEI_ADDRESS[validChainId]) {\n                let path = \"/mint-fractional\"\n                result = await makeDeiRequest(path, validChainId)\n            }\n\n            const amount = await getZapAmountsOut(\n                currency,\n                amountInToWei,\n                zapperContract,\n                result,\n                web3,\n                validChainId,\n            )\n            return amount\n        } catch (e) {\n            console.log(e);\n            return false\n        }\n\n    }, [currency, zapperContract, amountIn, debouncedAmountIn, validChainId, web3])\n    return { getAmountsOut: handleGetAmountOut }\n}\n\n\nexport const useDeposit = (currency, amount, address, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleDeposit = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        console.log(amount);\n        const fn = DeiDeposit(currency, amount, address, web3)\n\n        return await SendWithToast(fn, account, chainId, `Stake ${amount} ${currency.symbol}`)\n    }, [currency, amount, address, validChainId, chainId, account, web3])\n    return { onDeposit: handleDeposit }\n}\n\nexport const useWithdraw = (currency, amount, address, validChainId) => {\n    const web3 = useWeb3()\n\n    const { account, chainId } = useWeb3React()\n    const handleWithdraw = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const fn = DeiWithdraw(currency, amount, address, web3)\n        const message = isZero(amount) ? `Claim DEUS` : `Withdraw ${amount} ${currency.symbol}`\n        return await SendWithToast(fn, account, chainId, message)\n    }, [currency, amount, address, validChainId, chainId, account, web3])\n    return { onWithdraw: handleWithdraw }\n}\n\nexport const useBuyBack = (fromCurrency, toCurrency, amountIn, amountOut, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n    const handleBuyBack = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const result = await makeDeiRequest(\"/buyback\", validChainId)\n        const fn = buyBackDEUS(\n            getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n            result.deus_price,\n            result.expire_block,\n            result.signature,\n            collatUsdPrice,\n            account,\n            chainId,\n            web3,\n        )\n        return await SendWithToast(fn, account, chainId, `BuyBack ${amountIn} ${fromCurrency.symbol} for ${amountOut} ${toCurrency.symbol}`)\n\n    }, [fromCurrency, toCurrency, amountIn, amountOut, validChainId, account, chainId, web3])\n\n    return { onBuyBack: handleBuyBack }\n}\n\nexport const useRecollat = (fromCurrency, toCurrency, amountIn, amountOut, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleRecollat = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const result = await makeDeiRequest(\"/recollat\", validChainId)\n        const fn = RecollateralizeDEI(\n            result.collateral_price,\n            result.deus_price,\n            result.expire_block,\n            result.signature,\n            getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n            collatUsdPrice,\n            account,\n            chainId,\n            web3,\n        )\n\n        return await SendWithToast(fn, account, chainId, `Recollat ${amountIn} ${fromCurrency.symbol} for ${amountOut} ${toCurrency.symbol}`)\n\n    }, [fromCurrency, toCurrency, amountIn, amountOut, validChainId, account, chainId, web3])\n\n    return { onRecollat: handleRecollat }\n}\n\nexport const useClaimAll = (validChainId = 4) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleClaimAll = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const tx = await getClaimAll(account, web3, chainId)\n        return tx\n    }, [account, chainId, validChainId, web3])\n    return { onClaimAll: handleClaimAll }\n}\n\nexport const useRedeem = (fromCurrency, to1Currency, to2Currency, amountIn, amountOut1, amountOut2, collatRatio, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleRedeem = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        let fn = null\n        if (collatRatio === 100) {\n            const result = await makeDeiRequest(\"/redeem-1to1\", validChainId)\n            fn = redeem1to1Dei(\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                result.collateral_price,\n                result.expire_block,\n                result.signature,\n                chainId,\n                web3,\n            )\n        } else if (collatRatio > 0) {\n            const result = await makeDeiRequest(\"/redeem-fractional\", validChainId)\n            fn = redeemFractionalDei(\n                result.collateral_price,\n                result.deus_price,\n                result.expire_block,\n                result.signature,\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                chainId,\n                web3,\n            )\n        } else {\n            const result = await makeDeiRequest(\"/redeem-algorithmic\", validChainId)\n            fn = redeemAlgorithmicDei(\n                result.deus_price,\n                result.expire_block,\n                result.signature,\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                chainId,\n                web3,\n            )\n        }\n        return await SendWithToast(fn, account, chainId, `Redeem ${amountIn} ${fromCurrency.symbol}`)\n    }, [fromCurrency, amountIn, account, chainId, collatRatio, validChainId, web3])\n\n    return { onRedeem: handleRedeem }\n}\n\nexport const useMint = (from1Currency, from2Currency, toCurrency, amountIn1, amountIn2, amountOut, collatRatio, slippage, proxy, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleMint = useCallback(async () => {\n\n        if (validChainId && chainId !== validChainId) return false\n        if (!from1Currency || !toCurrency || !amountIn1 || !amountOut) return\n\n        const amount1toWei = getToWei(amountIn1, from1Currency.decimals).toFixed(0)\n        const amountOutToWei = getToWei(amountOut, toCurrency.decimals).toFixed(0)\n        const minAmountOutToWei = getToWei(amountOut, toCurrency.decimals).times(1 - (slippage / 100)).toFixed(0)\n\n        let path = \"/mint-algorithmic\"\n        let fn = null\n        if (!proxy) {\n            if (collatRatio === 100) {\n                path = \"/mint-1to1\"\n                const result = await makeDeiRequest(path, validChainId)\n                fn = mint1t1DEI(\n                    amount1toWei,\n                    result.collateral_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            } else if (collatRatio > 0) {\n                path = \"/mint-fractional\"\n                const result = await makeDeiRequest(path, validChainId)\n                const amount2toWei = getToWei(amountIn2, from2Currency.decimals).toFixed(0)\n                fn = mintFractional(\n                    amount1toWei,\n                    amount2toWei,\n                    result.collateral_price.toString(),\n                    result.deus_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            } else {\n                const result = await makeDeiRequest(path, validChainId)\n                fn = mintAlgorithmic(\n                    amount1toWei,\n                    result.deus_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            }\n        } else {\n            path = \"/mint-fractional\"\n            try {\n                const result = await makeDeiRequest(path, validChainId)\n                const { collateral_price, deus_price, expire_block, signature } = result\n                const erc20Path = MINT_PATH[chainId][from1Currency.symbol]\n                let method = \"\"\n                let proxyTuple = []\n                if (amountOutParams.length > 0 && amountOutParams[0] === amountOutToWei)\n                    proxyTuple = [\n                        amount1toWei,\n                        minAmountOutToWei,\n                        deus_price,\n                        collateral_price,\n                        amountOutParams[1],\n                        amountOutParams[2],\n                        expire_block,\n                        [signature]\n                    ]\n                let param = [proxyTuple]\n\n                if (from1Currency.address === \"0x\") {\n                    method = \"Nativecoin2DEI\"\n                    param.push(erc20Path)\n\n                }\n                else if (from1Currency.address === COLLATERAL_ADDRESS[chainId]) {\n                    method = \"USDC2DEI\"\n                }\n\n                else {\n                    if (!erc20Path) {\n                        console.error(\"INVALID PATH with \", from1Currency)\n                        return\n                    }\n                    method = \"ERC202DEI\"\n                    param.push(erc20Path)\n                }\n                console.log(method, param);\n\n                fn = getNewProxyMinterContract(web3, chainId).methods[method](...param)\n\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        const payload = from1Currency.address === \"0x\" ? { value: amount1toWei } : {}\n\n        try {\n            return await SendWithToast(fn, account, chainId, `Mint ${amountOut} ${toCurrency.symbol}`, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [from1Currency, from2Currency, toCurrency, amountIn1, amountIn2, amountOut, collatRatio, slippage, proxy, amountOutParams, account, chainId, validChainId, web3])\n\n    return { onMint: handleMint }\n}\n\n\nexport const useSwap = (from1Currency, toCurrency, amountIn1, amountOut, collatRatio, slippage, proxy, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleMint = useCallback(async () => {\n\n        if (validChainId && chainId !== validChainId) return false\n        if (!from1Currency || !toCurrency || !amountIn1 || !amountOut) return\n\n        const amount1toWei = getToWei(amountIn1, from1Currency.decimals).toFixed(0)\n        const amountOutToWei = getToWei(amountOut, toCurrency.decimals).toFixed(0)\n        const minAmountOutToWei = getToWei(amountOut, toCurrency.decimals).times(1 - (slippage / 100)).toFixed(0)\n\n        let fn = null\n\n        let path = \"/mint-fractional\"\n        try {\n            const result = await makeDeiRequest(path, validChainId)\n            const { collateral_price, deus_price, expire_block, signature } = result\n            const erc20Path = MINT_PATH[chainId][from1Currency.symbol]\n            let method = \"\"\n            let proxyTuple = []\n            if (amountOutParams.length > 0 && amountOutParams[0] === amountOutToWei)\n                proxyTuple = [\n                    amount1toWei,\n                    minAmountOutToWei,\n                    deus_price,\n                    collateral_price,\n                    amountOutParams[1],\n                    amountOutParams[2],\n                    expire_block,\n                    [signature]\n                ]\n            let param = [proxyTuple]\n\n            if (from1Currency.address === \"0x\") {\n                method = \"Nativecoin2DEUS\"\n                param.push(erc20Path)\n\n            }\n            else if (from1Currency.address === COLLATERAL_ADDRESS[chainId]) {\n                method = \"USDC2DEUS\"\n            }\n\n            else {\n                if (!erc20Path) {\n                    console.error(\"INVALID PATH with \", from1Currency)\n                    return\n                }\n                method = \"ERC202DEUS\"\n                param.push(erc20Path)\n            }\n            console.log(method, param);\n\n            fn = getDeusSwapContract(web3, chainId).methods[method](...param)\n\n        } catch (error) {\n            console.log(error);\n        }\n        const payload = from1Currency.address === \"0x\" ? { value: amount1toWei } : {}\n\n        try {\n            return await SendWithToast(fn, account, chainId, `Mint ${amountOut} ${toCurrency.symbol}`, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [from1Currency, toCurrency, amountIn1, amountOut, slippage, amountOutParams, account, chainId, validChainId, web3])\n\n    return { onMint: handleMint }\n}\n\n\nexport const useStakingInfo = (conf, validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { fastRefresh } = useRefresh()\n    const [res, setRes] = useState(conf)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const mul = await multicall(web3, StakingDeiAbi, getStakingData(conf, account), validChainId)\n                const [\n                    users,\n                    pendingReward\n                ] = mul\n                const { depositAmount, paidReward } = users\n\n                setRes({\n                    ...conf,\n                    depositAmount: RemoveTrailingZero(fromWei(depositAmount[\"_hex\"], 18), 18),\n                    paidReward: RemoveTrailingZero(fromWei(paidReward[\"_hex\"], 18), 18),\n                    pendingReward: formatBalance3(fromWei(pendingReward, 18), 6),\n                })\n            } catch (error) {\n                console.log(\"useStakingInfo \", error);\n            }\n\n        }\n        if (web3 && account) {\n            get()\n        }\n    }, [conf, fastRefresh, account, chainId, validChainId, web3])\n    return res\n}\n\nexport const useTokenInfo = (conf, validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { fastRefresh } = useRefresh()\n    const [res, setRes] = useState(conf)\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const mul = await multicall(web3, ERC20Abi, getStakingTokenData(conf, account), validChainId)\n\n                const [\n                    allowance,\n                    depositTokenWalletBalance,\n                    totalDepositBalance\n                ] = mul\n                setRes({\n                    ...conf,\n                    allowance: new BigNumber(allowance),\n                    depositTokenWalletBalance: fromWei(depositTokenWalletBalance),\n                    totalDepositBalance: fromWei(totalDepositBalance),\n                })\n            } catch (error) {\n                console.log(\"useTokenInfo \", error);\n\n            }\n\n        }\n        if (web3 && account && conf) {\n            get()\n        }\n    }, [conf, fastRefresh, account, chainId, validChainId, web3])\n    return res\n}\n\nexport const useAvailableRecollat = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n\n    const { slowRefresh } = useRefresh()\n    const setAvailableRecollat = useSetRecoilState(availableRecollatState)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const dei_info_result = await getDeiInfo(web3, validChainId)\n                let { \"0\": dei_total_supply, \"1\": global_collateral_ratio, \"2\": global_collat_value } = dei_info_result\n                let recollat_possible = fromWei((global_collateral_ratio * dei_total_supply - (global_collat_value * (1e6))) / (1e6), 18);\n                setAvailableRecollat(recollat_possible)\n            } catch (error) {\n                console.log(\"useAvailableRecollat \", error);\n            }\n        }\n        get()\n    }, [setAvailableRecollat, slowRefresh, validChainId, web3])\n}\n\nexport const useRedemptionDelay = () => {\n    const poolData = useRecoilValue(husdPoolDataState)\n    const { redemption_delay } = poolData\n    const blockNumber = useRecoilValue(blockNumberState)\n    const [forceRefresh, setForceRefresh] = useState(0)\n\n    useEffect(() => {\n        if (blockNumber % redemption_delay === 0) {\n            setForceRefresh(f => f + 1)\n        }\n    }, [blockNumber, redemption_delay])\n\n    return forceRefresh\n}\n\nexport const useHusdPoolData = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { slowRefresh } = useRefresh()\n    // const forceRefresh = useRedemptionDelay()\n    const setHusdPoolData = useSetRecoilState(husdPoolDataState)\n\n    useEffect(() => {\n        const get = async () => {\n\n            try {\n                const mul = await multicall(web3, HusdPoolAbi, getHusdPoolData(validChainId, collatUsdPrice, account), validChainId)\n\n                const [\n                    collatDollarBalance,\n                    availableExcessCollatDV,\n                    pool_ceiling,\n                    redemption_fee,\n                    minting_fee,\n                    buyback_fee,\n                    recollat_fee,\n                    recollateralizePaused,\n                    buyBackPaused,\n                    mintPaused,\n                    redeemPaused,\n                    bonus_rate,\n                    redemption_delay,\n                    redeemDEUSBalances,\n                    redeemCollateralBalances,\n                ] = mul\n                const updateState = {\n                    collatDollarBalance: fromWei(collatDollarBalance, 18),\n                    availableExcessCollatDV: new BigNumber(availableExcessCollatDV).div(1e18).toFixed(),\n                    pool_ceiling: fromWei(pool_ceiling, 6),\n                    redemption_fee: new BigNumber(redemption_fee).div(10000).toNumber(),\n                    minting_fee: new BigNumber(minting_fee).div(10000).toNumber(),\n                    buyback_fee: new BigNumber(buyback_fee).toNumber(),\n                    recollat_fee: new BigNumber(recollat_fee).toNumber(),\n                    bonus_rate: new BigNumber(bonus_rate).toNumber(),\n                    redemption_delay: new BigNumber(redemption_delay).toNumber(),\n                    redeemPaused: redeemPaused[0],\n                    mintPaused: mintPaused[0],\n                    buyBackPaused: buyBackPaused[0],\n                    recollateralizePaused: recollateralizePaused[0],\n                    redeemDEUSBalances: account ? fromWei(redeemDEUSBalances, 18) : \"0\",\n                    redeemCollateralBalances: account ? fromWei(redeemCollateralBalances, collateralToken[validChainId].decimals) : \"0\",\n                }\n                setHusdPoolData({ ...updateState })\n            } catch (error) {\n                console.log(\"useHusdPoolData \", error);\n            }\n\n        }\n        get()\n    }, [setHusdPoolData, slowRefresh, web3, account, validChainId, chainId]) //TODO forceRefresh\n}\n\nexport const useCollatRatio = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { slowRefresh } = useRefresh()\n    const setCollatRatio = useSetRecoilState(collatRatioState)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const cr = await getDeiInfo(web3, validChainId)\n                setCollatRatio(new BigNumber(fromWei(cr[1], dollarDecimals)).times(100).toNumber())\n            } catch (error) {\n                console.log(\"useCollatRatio \", error);\n            }\n        }\n        get()\n    }, [slowRefresh, web3, setCollatRatio, validChainId])\n}\n\nexport const useDeiUpdate = (validChainId) => {\n    useCollatRatio(validChainId)\n    useDeiPrices(validChainId)\n    useHusdPoolData(validChainId)\n}\n\nexport const useDeiUpdateRedeem = (validChainId) => {\n    useCollatRatio(validChainId)\n    useDeiPrices(validChainId)\n    useHusdPoolData(validChainId)\n}\n\nexport const useDeiUpdateBuyBack = (validChainId) => {\n    useDeiPrices(validChainId)\n    useAvailableRecollat(validChainId)\n    useHusdPoolData(validChainId)\n\n}\n\nexport const useDeiPrices = (validChainId) => {\n    const { slowRefresh } = useRefresh()\n    const setRefreshRatio = useSetRecoilState(deiPricesState)\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const result = await makeDeiRequest(\"/price\", validChainId)//TODO\n                setRefreshRatio(result)\n            } catch (error) {\n                console.log(\"useDeiPrices \", error);\n            }\n        }\n        get()\n    }, [slowRefresh, validChainId, setRefreshRatio])\n}\n\nexport const useAllowance = (currency, contractAddress, validChainId, fastUpdate) => {\n    const [allowance, setAllowance] = useState(new BigNumber(-1))\n    const { account, chainId } = useWeb3React()\n    const web3 = useCrossWeb3(validChainId)\n    const { fastRefresh } = useRefresh()\n    const { address: tokenAddress } = currency\n    const contract = useCrossERC20(tokenAddress, web3)\n\n    useEffect(() => {\n        const fetchAllowance = async () => {\n            if (!tokenAddress || contractAddress === undefined) return setAllowance(ZERO)\n            if (currency.chainId && currency.chainId !== validChainId) return setAllowance(ZERO)\n            if (validChainId && chainId !== validChainId) setAllowance(ZERO)\n            if (contract === null) setAllowance(ethers.constants.MaxUint256)\n            else if (currency.allowance) { setAllowance(currency.allowance) }\n            else {\n                try {\n\n                    const res = await contract.methods.allowance(account, contractAddress).call()\n                    setAllowance(new BigNumber(res))\n                } catch (error) {\n                    console.log(\"useAllowance \", currency, contractAddress, validChainId,error);\n                }\n\n            }\n        }\n        if (account && tokenAddress) {\n            fetchAllowance()\n        }\n    }, [account, contract, chainId, contractAddress, tokenAddress, validChainId, currency, fastRefresh, fastUpdate])\n\n    return allowance\n}\n","import { Interface } from '@ethersproject/abi'\nimport { getMultiCallContract } from './contractHelpers'\n\nconst multicall = async (web3, abi, calls, chainId) => {\n    const multi = getMultiCallContract(web3, chainId)\n\n    const itf = new Interface(abi)\n    const calldata = calls.map((call) => [\n        call.address.toLowerCase(),\n        itf.encodeFunctionData(call.name, call.params),\n    ])\n    const { returnData } = await multi.methods.aggregate(calldata).call()\n    const res = returnData.map((call, i) =>\n        itf.decodeFunctionResult(calls[i].name, call)\n    )\n\n    return res\n}\n\nexport { multicall }\nexport default multicall\n","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { makeCostDataRedeem, makeCostData } from '../../../helper/deiHelper'\nimport { useRecoilValue } from 'recoil';\nimport { collatRatioState, deiPricesState } from '../../../store/dei';\nimport { husdPoolDataState } from '../../../store/dei'\nimport { ChainId } from '../../../constant/web3';\n\nexport const MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 15px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 18px;\n    margin-bottom: 10px;\n    padding-top: 0;\n    padding-bottom: 0;\n    font-weight: 300;\n`\n\nexport const FeeWrapper = styled.div`\n    display: block;\n    margin-top: 15px;\n    margin-bottom: 15px;\n    font-size: 15px;\n`\n\nexport const FeeTitle = styled.span`\n    color: #0DB0F4;\n`\n\nexport const FeePrice = styled.div`\n    display: flex;\n    align-items: center;\n    height: 18px;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      justify-content: center;\n    `}\n`\n\nexport const CostBox = ({ type, chainId }) => {\n\n    const deusPrices = useRecoilValue(deiPricesState)\n    const deiPrice = deusPrices ? deusPrices.dei_price : null\n    const collatRatio = useRecoilValue(collatRatioState)\n    const { pool_ceiling: poolCeiling, collatDollarBalance: poolBalance } = useRecoilValue(husdPoolDataState)\n    let costs = null\n    if (type === 'mint') costs = makeCostData(deiPrice, collatRatio, poolBalance, poolCeiling, chainId === ChainId.BSC ? 18 : 6)\n    else if (type === 'redeem') costs = makeCostDataRedeem(collatRatio, poolBalance, chainId)\n\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                {costs.map((cost, index) => {\n                    return <FeeWrapper key={index}>\n                        <FeeTitle> {cost.name} </FeeTitle>\n                        <FeePrice> {cost.value !== null ? cost.value : <img src=\"/img/spinner.svg\" width=\"20\" height=\"20\" alt=\"sp\" />} </FeePrice>\n                    </FeeWrapper>\n                })}\n            </MainWrapper>\n        }, [costs])\n    )\n}","import React, { useMemo } from 'react'\nimport { urls } from '../../../constant/staking'\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components'\n\nconst MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 15px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 300;\n`\n\nconst FlexDiv = styled.div`\n    display: flex;\n`\n\nconst TitleImage = styled.img`\n    margin-right: 9px;\n`\n\nconst TitleText = styled.span`\n    font-weight: bold;\n    font-size: 15px;\n    margin-top: 5px;\n`\n\nconst Line = styled.div`\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n    margin-bottom: 20px;\n    margin-top: 10px;\n`\n\nconst EachUrl = styled.span`\n    display: block;\n    font-size: 16px;\n    margin:10px 0;\n    font-weight: 300;\n    color: rgba(255, 255, 255, 0.5);\n    .active {\n        color: #0DB0F4;\n    }\n`\n\nconst LinkBox = () => {\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                <FlexDiv>\n                    <TitleImage src={\"/img/Dei_logo.svg\"} alt=\"Dei_logo\" width=\"30\" />\n                    <TitleText> DEI Stable Coin </TitleText>\n                </FlexDiv>\n\n                <Line />\n\n                {urls.map((url, index) => {\n                    return <EachUrl key={index + \"url\"}>\n                        <NavLink to={url.link}> {url.name} </NavLink>\n                    </EachUrl>\n                })}\n\n                {/* <Line2 />\n\n                <BottomTextDiv>\n                    If you need more help visit the{' '}\n                    <WikiLink href=\"https://wiki.deus.finance/docs/\" target=\"_blank\">wiki</WikiLink>.\n                </BottomTextDiv> */}\n            </MainWrapper>\n        }, [])\n    )\n}\n\nexport default LinkBox","export function addToken(token, base) {\n    const { address, symbol, decimals } = token\n    const image = `https://${base ?? \"app\"}.deus.finance` + token.logo\n\n    if (window.ethereum) {\n        window.ethereum.request({\n            method: 'wallet_watchAsset',\n            params: {\n                type: 'ERC20',\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image,\n                },\n            },\n        }).then((success) => {\n            if (success) {\n                console.log(symbol + ' successfully added to wallet!')\n            } else {\n                throw new Error('Something went wrong.')\n            }\n        }).catch(console.error)\n    }\n}","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { ExternalLink } from '../Link';\nimport { DEITokens } from '../../../constant/token';\nimport { NavLink } from 'react-router-dom';\n\nconst MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 5px 20px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 300;\n`\n\n\nconst EachUrl = styled.span`\n    cursor: pointer;\n    display: block;\n    font-size: 15px;\n    margin:10px 0;\n    font-weight: 300;\n    &.uni:hover{\n        color: #f62d8d;\n        opacity: 1;\n    }\n    &.quick:hover{\n        color: #6db7ff;\n        opacity: 1;\n    }\n    &.uni{\n        opacity: 0.75;\n    }\n    &.quick{\n        opacity: 0.75;\n    }\n    &.deusSwap:hover{\n        color: #6db7ff;\n    }\n    a{\n        display: flex;\n        align-items: center;\n    }\n`\n\nconst DeiTokenBox = () => {\n    const deusToken = DEITokens[1][1]\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                <EachUrl className=\"deusSwap\" >\n                    <NavLink textDecoration=\"none\" to={\"/swap\"}> Buy  <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" />DEUS on  DEUS Swap </NavLink>\n                </EachUrl>\n                <EachUrl className=\"uni\" >\n                    <ExternalLink textDecoration=\"none\" href={`https://app.uniswap.org/#/swap?use=V2&outputCurrency=${deusToken.address}&inputCurrency=ETH`}> Buy  <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" />DEUS on  Uniswap <img src=\"/img/uniswap.png\" style={{ width: \"20px\", marginLeft: \"4px\" }} alt=\"uniswap\" /></ExternalLink>\n                </EachUrl>\n                <EachUrl className=\"quick\">\n                    <ExternalLink textDecoration=\"none\" href={`https://quickswap.exchange/#/swap?outputCurrency=${deusToken.address}&inputCurrency=MATIC`}> Buy <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\", }} alt=\"deus\" />DEUS on QuickSwap <img src=\"/img/quickswap.png\" style={{ width: \"20px\", marginLeft: \"4px\", borderRadius: \"50%\" }} alt=\"quickswap\" /></ExternalLink>\n                </EachUrl>\n\n            </MainWrapper>\n        }, [deusToken])\n    )\n}\n\nexport default DeiTokenBox\n","import React, { useState, useMemo, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { ButtonSyncDeactivated, ButtonSyncActive } from '../Button';\nimport { FlexCenter } from '../Container';\nimport { useWeb3React } from '@web3-react/core';\nimport { isGt, isZero } from '../../../constant/number';\nimport Wallets from '../../common/Navbar/Wallets';\n\nconst errors = {\n    NotConnected: \"CONNECT WALLET\",\n    WrongNetwork: \"WRONG NETWORK\",\n    EMPTY: \"ENTER AN AMOUNT\",\n    EMPTY_PROXY: \"ENTER \\\"DEI\\\" AMOUNT\",\n    INSUFFICIENT: \"INSUFFICIENT BALANCE\",\n    LOADING: \"LOADING...\",\n}\n\nconst WrapActions = styled.div`\n    margin-top:33px;\n    height: \"55px\";\n    display:flex;\n    font-size:20px;\n    font-family:\"Monument Grotesk Semi\";\n    & > button {\n        margin:0px 5px;\n    }\n`\nexport const ButtonSwap = styled(ButtonSyncActive)`\n  background: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3};\n  color: ${({ theme }) => theme.text1_2};\n  font-size:${({ fontSize }) => fontSize || \"20px\"};\n`\n\nconst WrapStep = styled(FlexCenter)`\nmargin-top:10px;\n`\n\nconst CycleNumber = styled(FlexCenter)`\nwidth:20px;\nheight:20px;\nborder-radius:20px;\nbackground: ${({ theme, bgColor, active }) => active ? bgColor ? theme[bgColor] : theme.grad3 : theme.border1};\ncolor: ${({ theme, active }) => active ? theme.text1_2 : theme.text1};\nz-index: 0;\nfont-size:12px;\nmargin:0 -1px;\n`\nconst Line = styled.div`\nbackground: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3} ;\nheight: 2px;\nwidth: 50%;\n`\nconst SwapAction = ({ text = \"SWAP\", proxy, isPreApproved, amountIn, debouncedAmountIn, amountOut, swapState, TokensMap, isApproved, loading, swapLoading = false, validNetworks = [4, 1], handleApprove, handleSwap, bgColor, targetToken, isMint = false }) => {\n    const { account, chainId } = useWeb3React()\n    const [showWallets, setShowWallets] = useState(false)\n    const checkError = () => {\n        if (chainId && validNetworks.indexOf(chainId) === -1) return errors.WrongNetwork\n        if (amountIn === \"\" || isZero(amountIn)) return proxy ? errors.EMPTY_PROXY : errors.EMPTY\n        if (swapState && isGt(amountIn, TokensMap[swapState.from.address]?.balance)) return errors.INSUFFICIENT\n        if (isNaN(amountOut) || isPreApproved === null || (isMint && isApproved === null) || amountOut === \"\" || (debouncedAmountIn && debouncedAmountIn !== amountIn)) return errors.LOADING\n        return null;\n    }\n\n    useEffect(() => {\n        if (account)\n            setShowWallets(false)\n    }, [account])\n\n    const error = checkError()\n\n    return (useMemo(() => {\n        if (!account) {\n            return <WrapActions>\n                <Wallets showWallets={showWallets} setShowWallets={setShowWallets} />\n                <ButtonSwap bgColor={bgColor} active={true} onClick={() => setShowWallets(true)}>\n                    CONNECT WALLET\n                </ButtonSwap>\n            </WrapActions>\n        }\n\n        if (error)\n            return <WrapActions>\n                <ButtonSyncDeactivated >{error}</ButtonSyncDeactivated>\n            </WrapActions>\n\n        return <>\n            {(isMint && isApproved === true) || (!isMint && isPreApproved) ?\n                <WrapActions>\n                    <ButtonSwap active={true} fontSize={\"25px\"} onClick={handleSwap} bgColor={bgColor}>{text}\n                        {swapLoading && <img style={{ position: \"absolute\", right: \"10px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"40\" height=\"40\" />}\n                    </ButtonSwap>\n                </WrapActions> : <>\n                    <WrapActions>\n                        {!isApproved ? <>\n                            <ButtonSwap bgColor={bgColor} active={true} onClick={handleApprove} >\n                                APPROVE {targetToken && targetToken.symbol}\n                                {loading && <img style={{ position: \"absolute\", right: \"0px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"30\" height=\"30\" />}\n                            </ButtonSwap>\n                            <ButtonSyncDeactivated>{text}</ButtonSyncDeactivated>\n                        </> : <>\n                            <ButtonSyncDeactivated>APPROVED</ButtonSyncDeactivated>\n                            <ButtonSwap bgColor={bgColor} active={true} onClick={handleSwap}>\n                                {text}\n                                {swapLoading && <img style={{ position: \"absolute\", right: \"0px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"30\" height=\"30\" />}\n                            </ButtonSwap>\n                        </>\n                        }\n                    </WrapActions>\n                    <WrapStep bgColor={bgColor}>\n                        <CycleNumber bgColor={bgColor} active={true}>1</CycleNumber>\n                        <Line bgColor={bgColor}></Line>\n                        <CycleNumber bgColor={bgColor} active={isApproved}>2</CycleNumber>\n                    </WrapStep>\n                </>\n            }\n        </>\n    }, [account, showWallets, setShowWallets, targetToken, isMint, isApproved, isPreApproved, handleApprove, handleSwap, bgColor, text, loading, swapLoading, error])\n\n    );\n}\n\nexport default SwapAction;","import React from 'react';\nimport { NameChainId } from '../../../constant/web3';\nimport styled from 'styled-components'\nimport { addRPC } from '../../../services/addRPC';\n\nconst MainItemsDiv = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n`\n\nconst NameItemsDiv = styled.div`\n    display: flex;\n    justify-content: center;\n    background: #272727;\n    padding: 6px 16px;\n    margin: 8px;\n    margin-left: 0;\n    font-size: 15px;\n    border-radius: 6px;\n    cursor: pointer;\n    opacity: 0.5;\n    opacity: ${({ chain, currRow }) => (chain === currRow) && \"1\"};\n    color: ${({ chain, currRow }) => (chain === currRow) ? \"#000\" : \"#FFF\"};\n    font-weight: ${({ chain, currRow }) => (chain === currRow) ? \"600\" : \"normal\"};\n    background: ${({ theme, chain, currRow }) => (chain === currRow) && theme.ChainId[chain]};\n    border: 1px solid ${({ chain, currRow }) => (chain === currRow) ? \"black\" : \"transparent\"};\n`\n\nconst SelectBox = ({ currRow, validNetworks, account, web3 }) => {\n    const networks = validNetworks\n    return (<MainItemsDiv>\n        {networks.map((chain, id) => {\n            return <span key={id} onClick={() => addRPC(account, chain, web3)}>\n                <NameItemsDiv chain={chain} currRow={currRow}>\n                    {NameChainId[chain].toUpperCase()}\n                </NameItemsDiv>\n            </span>\n        })}\n    </MainItemsDiv>\n    );\n}\n\nexport default SelectBox;\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core';\nimport SelectBox from './SelectBox';\n\nexport const MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 20px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 18px;\n    padding-top: 10px;\n    padding-bottom: 0;\n    font-weight: 300;\n`\n\nexport const Chains = ({ validChainId, validNetworks }) => {\n    const { account } = useWeb3React()\n    return (<MainWrapper>\n        <p style={{ opacity: \"0.7\", fontSize: \"13px\" }}>Select Chain  <span style={{ color: \"#d28787\" }}>{!account ? \"(Connect your wallet)\" : \"\"}</span> </p>\n        <SelectBox currRow={validChainId} validNetworks={validNetworks} account={account} />\n    </MainWrapper>\n    )\n}\n","import { DEI_COLLATERAL_STAKING, DEI_DEUS_STAKING, DEI_COLLATERAL_ZAP, DEI_DEUS_ZAP, DEUS_NATIVE_STAKING } from \"./contracts\"\nimport { deiDeusLpToken, deiCollateralLpToken, DeusNativeLpToken } from \"./token\"\nimport { ChainId } from \"./web3\"\n\nexport const urls = [{\n  name: 'Mint',\n  link: '/stable/mint'\n},\n{\n  name: 'Redeem',\n  link: '/stable/redeem'\n},\n{\n  name: 'Zap',\n  link: '/stable/zap'\n},\n{\n  name: 'Farms',\n  link: '/stable/farms'\n},\n]\n\nexport const StakingConfig = {\n  [ChainId.MATIC]: [\n    {\n      id: 0,\n      title: \"DEI-USDC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/usdc.svg\",\n      depositToken: deiCollateralLpToken[ChainId.MATIC],\n      stakingContract: DEI_COLLATERAL_STAKING[ChainId.MATIC],\n      zapperContract: DEI_COLLATERAL_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3/0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\",\n      apy: \"50\"\n    },\n    {\n      id: 1,\n      title: \"DEI-DEUS\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/deus.svg\",\n      depositToken: deiDeusLpToken[ChainId.MATIC],\n      stakingContract: DEI_DEUS_STAKING[ChainId.MATIC],\n      zapperContract: DEI_DEUS_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3\",\n      apy: \"100\"\n    },\n    {\n      id: 2,\n      title: \"DEUS-MATIC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/matic.png\",\n      depositToken: DeusNativeLpToken[ChainId.MATIC],\n      stakingContract: DEUS_NATIVE_STAKING[ChainId.MATIC],\n      zapperContract: DEI_DEUS_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44/ETH\",\n      apy: \"50\"\n    }\n  ],\n  [ChainId.ETH]: [\n    {\n      id: 0,\n      title: \"DEI-USDC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/usdc.svg\",\n      depositToken: deiCollateralLpToken[ChainId.ETH],\n      stakingContract: DEI_COLLATERAL_STAKING[ChainId.ETH],\n      zapperContract: DEI_COLLATERAL_ZAP[ChainId.ETH],\n      provideLink: \"https://curve.fi/factory/47/deposit\",\n      apy: \"50\"\n    },\n    {\n      id: 1,\n      title: \"DEI-DEUS\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/deus.svg\",\n      depositToken: deiDeusLpToken[ChainId.ETH],\n      stakingContract: DEI_DEUS_STAKING[ChainId.ETH],\n      zapperContract: DEI_DEUS_ZAP[ChainId.ETH],\n      provideLink: \"https://app.uniswap.org/#/add/v2/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44?use=V2\",\n      apy: \"100\"\n    },\n    {\n      id: 2,\n      title: \"DEUS-ETH\",\n      pic1: \"/tokens/deus.svg\",\n      pic2: \"/tokens/eth_logo.svg\",\n      depositToken: DeusNativeLpToken[ChainId.ETH],\n      stakingContract: DEUS_NATIVE_STAKING[ChainId.ETH],\n      zapperContract: DEI_DEUS_ZAP[ChainId.ETH],\n      provideLink: \"https://app.uniswap.org/#/add/v2/ETH/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44\",\n      apy: \"50\"\n    }\n  ],\n}"],"sourceRoot":""}