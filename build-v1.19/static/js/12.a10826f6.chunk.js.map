{"version":3,"sources":["components/App/Dei/Zap/index.jsx","components/App/Dei/ZapBox.jsx","components/App/Dei/ZapStakingBox.jsx","components/App/Swap/SearchBox.jsx","pages/Dei/Zap/index.jsx","components/App/Swap/index.jsx","store/dei/index.js","components/App/Currency/index.jsx","hooks/useDebounce.js","assets/images/empty-token.svg","components/App/Dei/index.js","helper/deiHelper.js","hooks/useDei.js","helper/multicall.js","components/App/Dei/DeusTokenBox.jsx","hooks/useCrossTokenBalance.js","components/App/Dei/CostBox.jsx","components/App/Dei/LinkBox.jsx","utils/addTokens.js","components/App/Dei/BuyDEUS.jsx","components/App/Dei/SwapAction.jsx","components/App/Dei/SelectBox.jsx","components/App/Dei/Chains.jsx","constant/staking.js","components/App/Swap/SlippageTolerance.jsx","assets/images/circle-token.svg","hooks/useTokenBalances.js","components/App/Swap/SwapCard.jsx"],"names":["ZapContainer","styled","Flex","theme","mediaWidth","upToSmall","Wrapper","div","mt","border1","borderRadius","TokenInfo","active","ZapBox","hasMax","currency","title","inputAmount","setInputAmount","setFocusType","focusType","type","setActive","TokensMap","chainId","wrongNetwork","fastUpdate","useState","onMax","setOnMax","data","useCrossTokenBalance","address","balance","setBalance","useEffect","getFullDisplayBalance","decimals","getBalance","onClick","undefined","justifyContent","alignItems","paddingRight","paddingLeft","Currency","style","verticalAlign","size","XL","fontWeight","color","ml","mr","symbol","src","marginTop","marginRight","marginBottom","SM","formatBalance3","backgroundColor","height","margin","padding","fontSize","placeholder","min","value","isNaN","onChange","e","currentTarget","isZero","Button","width","FlexCenter","StakingListWrap","availableStaking","activeStakingList","stakingInfo","setStakingInfo","display","flexDirection","map","info","index","key","zapperContract","zIndex","logo","pic1","bgColor","position","marginLeft","pic2","top","window","ReactModal","setAppElement","customStyles","overlay","content","left","right","bottom","transform","maxHeight","maxWidth","background","border","paddingBottom","overflow","bg5","StyledClose","X","Line","my","TokenRow","RowBetween","TokensWrap","TokenWrap","SearchBox","currencies","swapState","escapedType","changeToken","disableLoading","account","isOpen","closeTimeoutMS","onRequestClose","shouldCloseOnOverlayClick","Row","LG","stroke","opacity","MD","Object","keys","filter","pairID","id","CircleToken","alt","Zap","location","useLocation","useWeb3React","userChain","validChains","getCorrectChains","pathname","currChain","indexOf","ChainId","ETH","useDeiUpdate","search","queryParams","URLSearchParams","get","toLowerCase","collatRatio","useRecoilValue","collatRatioState","husdPoolDataState","mintingFee","minting_fee","mintPaused","setFastUpdate","isApproved","setIsApproved","approveLoading","setApproveLoading","swapLoading","setSwapLoading","setEscapedType","activeSearchBox","setActiveSearchBox","StakingConfig","resultLp","staking","lpIndex","length","contractAddress","slippage","setSlippage","amountOutParams","setAmountOutParams","tokens","useMemo","ZapTokens","token","tokensMap","reduce","setSwapState","from","to","deiToken","balances","useTokenBalances","amountIn","setAmountIn","debouncedAmountIn","useDebounce","amountOut","setAmountOut","percentage","setPercentage","allowance","useAllowance","gt","onApprove","useApprove","onZap","useZap","getAmountsOut","useGetAmountsOutZap","a","result","console","log","lp","usdcForMintAmount","deusNeededAmount","fromWei","handleApprove","useCallback","status","error","handleSwap","tx","vsType","getSwapVsType","deactivated","Swap","mb","mx","weight","ZapStakingBox","SwapAction","text","isPreApproved","validNetworks","targetToken","loading","isMint","SlippageTolerance","SwapCard","className","LinkBox","CostBox","DeusTokenBox","Chains","validChainId","InputAmount","input","attrs","autocomplete","autocorrect","spellcheck","text1","disabled","StyleSwapBase","grad3","css","bg3","upToLarge","bg7","StyleTitles","SwapArrow","MainWrapper","SwapWrapper","SmallWrapper","atom","default","deiPricesState","selector","coolDownState","availableRecollatState","StyledLogo","img","CurrencyLogo","DefaultLogo","delay","hotValue","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","module","exports","PlusImg","upToExtraSmall","ContentWrapper","baseUrl","dollarDecimals","collatUsdPrice","LENGTH_COLLAT","COLLAT_PRICE","BSC_TESTNET","BSC","makeCostData","deiPrice","poolBalance","ceiling","dp","BigNumber","toFixed","cr","pc","formatUnitAmount","TEN","pow","av","minus","name","makeCostDataRedeem","cToken","collateralToken","pb","getStakingData","conf","stakingContract","params","getStakingTokenData","depositToken","getHusdPoolData","collat_usd_price","LEN","collaterals","i","push","calls","COLLATERAL_POOL_ADDRESS","SendWithToast","fn","message","payload","hash","customSend","send","once","CustomTransaction","TransactionState","LOADING","SUCCESS","FAILED","DeiDeposit","depositedToken","amount","web3","getToWei","getDeiStakingContract","methods","deposit","DeiWithdraw","withdrawToken","withdraw","buyBackDEUS","deus_price","expire_block","signature","pool_collateral_price","getCollateralPoolContract","RecollateralizeDEI","collateral_price","recollateralizeDEI","mint1t1DEI","collateral_amount","mintFractional","deus_amount","deus_current_price","expireBlock","mintFractionalDEI","mintAlgorithmic","deus_amount_d18","mintAlgorithmicDEI","redeem1to1Dei","redeem1t1DEI","redeemFractionalDei","redeemFractionalDEI","redeemAlgorithmicDei","redeemAlgorithmicDEI","getClaimAll","collectRedemption","getDeiInfo","getDeiContract","dei_info","call","makeDeiRequest","path","fetcher","isProxyMinter","isPair","getAmountOutDeusSwap","fromCurrency","amountInToWei","collateralPriceWei","deusPriceWei","method","erc20Path","MINT_PATH","COLLATERAL_ADDRESS","getDeusSwapContract","getAmountOutProxy","getNewProxyMinterContract","getZapAmountsOut","zapperAddress","DEI_COLLATERAL_ZAP","getZapContract","getAmountOutLPCollateral","DEUS_ADDRESS","getAmountOutLPDEUS","DEI_ADDRESS","getAmountOutLPDEI","getAmountOutLPERC20ORNativecoin","zapIn","minLpAmount","transferResidual","proxyTuple","DEI_DEUS_ZAP","zapInNativecoin","zapInDEUS","zapInDEI","zapInERC20","zapInCollateral","useWeb3","minLpAmountToWei","multipliedBy","Number","useDeposit","onDeposit","useWithdraw","onWithdraw","useClaimAll","handleClaimAll","onClaimAll","useRedeem","to1Currency","to2Currency","amountOut1","amountOut2","handleRedeem","onRedeem","useMint","from1Currency","from2Currency","toCurrency","amountIn1","amountIn2","proxy","onMint","amount1toWei","amountOutToWei","minAmountOutToWei","times","amount2toWei","toString","param","useSwap","useStakingInfo","useCrossWeb3","fastRefresh","useRefresh","res","setRes","multicall","StakingDeiAbi","mul","users","pendingReward","depositAmount","paidReward","RemoveTrailingZero","useTokenInfo","ERC20Abi","depositTokenWalletBalance","totalDepositBalance","useHusdPoolData","slowRefresh","setHusdPoolData","useSetRecoilState","HusdPoolAbi","collatDollarBalance","availableExcessCollatDV","pool_ceiling","redemption_fee","buyback_fee","recollat_fee","recollateralizePaused","buyBackPaused","redeemPaused","bonus_rate","redemption_delay","redeemDEUSBalances","redeemCollateralBalances","updateState","toNumber","useCollatRatio","setCollatRatio","useDeiPrices","useDeiUpdateRedeem","setRefreshRatio","setAllowance","tokenAddress","contract","useCrossERC20","ZERO","ethers","constants","MaxUint256","fetchAllowance","abi","multi","getMultiCallContract","itf","Interface","calldata","encodeFunctionData","aggregate","returnData","decodeFunctionResult","EachUrl","span","deusToken","DEITokens","state","setState","addToken","onCopy","walletBalance","isAddress","eth","balanceOf","fetchBalance","FeeWrapper","FeeTitle","FeePrice","deusPrices","dei_price","poolCeiling","costs","cost","FlexDiv","TitleImage","TitleText","urls","url","link","base","image","ethereum","request","options","then","success","Error","catch","DeiTokenBox","textDecoration","href","errors","WrapActions","ButtonSwap","ButtonSyncActive","text1_2","WrapStep","CycleNumber","showWallets","setShowWallets","isGt","checkError","MainItemsDiv","NameItemsDiv","chain","currRow","SelectBox","networks","addRPC","NameChainId","toUpperCase","MATIC","deiCollateralLpToken","DEI_COLLATERAL_STAKING","provideLink","apy","deiDeusLpToken","DEI_DEUS_STAKING","DeusNativeLpToken","DEUS_NATIVE_STAKING","Option","Base","CustomOption","InputSlippage","defaultAmounts","customActive","setCustomActive","handleMinSlippage","handleCustomChange","parseFloat","onBlur","setBalances","utils","toChecksumAddress","ethBalance","fetchBalances"],"mappings":"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","file":"static/js/12.a10826f6.chunk.js","sourcesContent":["import { Flex } from 'rebass/styled-components';\nimport styled from 'styled-components';\n\n\nexport const ZapContainer = styled(Flex)`\n    justify-content: space-between;\n    align-items: center;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      flex-direction:column;\n  `}\n`","import React, { useState, useEffect } from 'react';\nimport { Flex, Box, Image } from 'rebass/styled-components';\nimport styled from 'styled-components';\nimport { isZero } from '../../../constant/number';\nimport { getFullDisplayBalance } from '../../../helper/formatBalance';\nimport useCrossTokenBalance from '../../../hooks/useCrossTokenBalance';\nimport { formatBalance3 } from '../../../utils/utils';\nimport { ButtonMax } from '../Button';\nimport CurrencyLogo from '../Currency';\nimport { InputAmount } from '../Swap';\nimport { Type } from '../Text';\n\nconst Wrapper = styled.div`\n    position: relative;\n    height: 185px;\n    width: 100%;\n    max-width: 230px;\n    margin-top: ${({ mt }) => (mt && mt)};\n    background: ${({ theme }) => theme.border1};\n    border: 2px solid #000000;\n    border-radius: ${({ borderRadius }) => borderRadius || \"15px\"};\n`\nconst TokenInfo = styled.div`\n    padding:20px 20px;\n    padding-bottom: 12px;\n    \n    cursor:${({ active }) => active ? \"pointer\" : \"default\"};\n    border-bottom: 1px solid #0D0D0D;\n    &:hover{\n        filter:${({ active }) => active && \"brightness(0.8)\"};\n    }\n`\n\nconst ZapBox = ({ hasMax, title, currency, inputAmount = \"\", setInputAmount, setFocusType, focusType, type, setActive, TokensMap, chainId, wrongNetwork, fastUpdate, mt }) => {\n    const [onMax, setOnMax] = useState(false)\n    const data = useCrossTokenBalance(currency?.address, chainId, fastUpdate)\n    const [balance, setBalance] = useState(wrongNetwork ? \"0\" : data)\n\n    useEffect(() => {\n        const getBalance = () => {\n            setBalance(data ? getFullDisplayBalance(data, currency?.decimals) : TokensMap[currency.address]?.balance ? TokensMap[currency.address]?.balance : \"0\")\n        }\n\n        if (currency) {\n            getBalance()\n        }\n\n    }, [data, currency, wrongNetwork, TokensMap])\n\n    useEffect(() => {\n        if (inputAmount === balance) {\n            setOnMax(true)\n        } else {\n            setOnMax(false)\n        }\n    }, [inputAmount, balance])\n\n\n    return (<Wrapper mt={mt}>\n\n        <TokenInfo onClick={setActive ? () => setActive(true, type) : undefined} active={setActive ? true : false}>\n            <Flex justifyContent=\"space-between\" alignItems=\"center\" paddingRight=\"25px\" paddingLeft=\"13\">\n                <Flex alignItems=\"center\" >\n                    <CurrencyLogo\n                        style={{ verticalAlign: \"middle\" }}\n                        currency={currency}\n                        size={\"25px\"}\n                    />\n                    <Type.XL fontWeight=\"300\" color=\"text1\" ml=\"10px\" mr=\"9px\">{currency?.symbol}</Type.XL>\n                </Flex>\n                {setActive && <Image src=\"/img/select.svg\" size=\"10px\" />}\n            </Flex>\n\n\n        </TokenInfo>\n\n        <Flex justifyContent=\"flex-end\" marginTop=\"37px\" marginRight=\"12px\" marginBottom=\"6px\" >\n            <Box>\n                <Type.SM color={'secondary'}>\n                    Balance: {formatBalance3(balance)}\n                </Type.SM>\n            </Box>\n        </Flex>\n\n        <Flex\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            mt=\"5px\"\n            backgroundColor=\"#0D0D0D\"\n            height=\"50px\"\n            margin=\"0 10px\"\n            marginBottom=\"12px\"\n            padding=\"0 8px\"\n            style={{ borderRadius: \"10px\" }}\n        >\n            <InputAmount fontSize=\"20px\" placeholder=\"0.0\" min=\"0\" value={isNaN(inputAmount) ? \"\" : inputAmount} onChange={(e) => {\n                setFocusType(focusType)\n                setInputAmount(e.currentTarget.value)\n            }} />\n\n            {hasMax && !onMax && !isZero(balance) && <ButtonMax width={\"40px\"}\n                onClick={() => setInputAmount(balance)}>\n                MAX\n            </ButtonMax>}\n        </Flex>\n\n    </Wrapper>);\n}\n\nexport default ZapBox;","import React from 'react';\nimport { Image, Flex } from 'rebass/styled-components';\nimport styled from 'styled-components';\nimport { FlexCenter } from '../Container';\nimport CurrencyLogo from '../Currency';\nimport { Type } from '../Text';\n\nconst Wrapper = styled(FlexCenter)`\n    position: relative;\n    height: 185px;\n    width: 100%;\n    max-width: 230px;\n    \n    margin-top: ${({ mt }) => (mt && mt)};\n    background: ${({ theme }) => theme.border1};\n    border: 2px solid #000000;\n    border-radius: ${({ borderRadius }) => borderRadius || \"15px\"};\n`\nconst TokenInfo = styled(FlexCenter)`\n    position: absolute;\n    bottom:20px;\n    margin:auto;\n    left:0;\n    right:0;\n    cursor:${({ active }) => active ? \"pointer\" : \"default\"};\n    &:hover{\n        filter:${({ active }) => active && \"brightness(0.8)\"};\n    }\n`\n\nconst StakingListWrap = styled(Flex)`\n    background: ${({ active }) => !active ? \"slategrey\" : \"none\"};\n    padding: 10px;\n    width: 100%;\n    justify-content: flex-start;\n    align-items: center;\n    cursor:${({ active }) => active ? \"pointer\" : \"default\"};\n    &:hover{\n        filter:${({ active }) => active && \"brightness(0.8)\"};\n    }\n`\n\nconst ZapBox = ({ setActive, availableStaking, activeStakingList, stakingInfo, setStakingInfo, mt }) => {\n\n    if (activeStakingList) {\n\n        return (<Wrapper mt={mt} style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"space-around\" }}  >\n\n            {availableStaking.map((info, index) => {\n                return <StakingListWrap key={index} active={stakingInfo.zapperContract !== info.zapperContract} onClick={() => {\n                    setStakingInfo(info)\n                    setActive(false)\n                }} >\n                    <CurrencyLogo\n                        style={{ verticalAlign: \"middle\", zIndex: \"1\", padding: \"5px\", marginRight: \"-7px\", }}\n                        currency={{ logo: info?.pic1, symbol: info?.pic1 }}\n                        size={\"35px\"}\n                        bgColor=\"#000000\"\n                    />\n\n                    <CurrencyLogo\n                        style={{ verticalAlign: \"middle\", position: \"\", padding: \"5px\", marginLeft: \"-7px\", }}\n                        currency={{ logo: info?.pic2, symbol: info?.pic2 }}\n                        size={\"35px\"}\n                        bgColor=\"#000000\"\n                    />\n                    <Type.XL fontWeight=\"300\" color=\"text1\" ml=\"10px\" mr=\"9px\">{info.title}</Type.XL>\n                </StakingListWrap>\n            })}\n\n        </Wrapper>);\n\n    }\n\n\n\n    return (<Wrapper mt={mt} >\n\n        <CurrencyLogo\n            style={{ verticalAlign: \"middle\", position: \"absolute\", top: \"55px\", marginLeft: \"-20px\", zIndex: \"1\", padding: \"5px\" }}\n            currency={{ logo: stakingInfo?.pic1, symbol: stakingInfo?.pic1 }}\n            size={\"40px\"}\n            bgColor=\"#000000\"\n        />\n\n        <CurrencyLogo\n            style={{ verticalAlign: \"middle\", position: \"absolute\", marginTop: \"-15px\", marginRight: \"-30px\", padding: \"5px\" }}\n            currency={{ logo: stakingInfo?.pic2, symbol: stakingInfo?.pic2 }}\n            size={\"40px\"}\n            bgColor=\"#000000\"\n        />\n\n        <TokenInfo onClick={setActive ? () => setActive(true) : undefined} active={setActive ? true : false}>\n            <Type.XL fontWeight=\"300\" color=\"text1\" ml=\"10px\" mr=\"9px\">{stakingInfo.title}</Type.XL>\n            {setActive && <Image src=\"/img/select.svg\" size=\"10px\" />}\n        </TokenInfo>\n\n    </Wrapper>);\n}\n\nexport default ZapBox;","import React from 'react';\nimport ReactModal from 'react-modal'\nimport styled from 'styled-components'\nimport { Type } from '../../App/Text';\nimport { RowBetween } from '../../App/Row';\nimport CircleToken from '../../../assets/images/circle-token.svg'\nimport { X } from 'react-feather'\nimport { StyledLogo } from '../Currency';\nimport { FlexCenter } from '../Container';\nimport { formatBalance3 } from '../../../utils/utils';\nimport { isZero } from '../../../constant/number';\n\nif (typeof window !== 'undefined') {\n  ReactModal.setAppElement('body')\n}\n\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    zIndex: 4,\n    height: \"100vh\",\n  },\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    height: \"85vh\",\n    maxHeight: '600px',\n    maxWidth: '500px',\n    width: '95vw',\n    background: 'transparent',\n    border: '1px solid #000000',\n    borderRadius: '10px',\n    paddingBottom: '20px',\n    zIndex: 5,\n    overflow: \"hidden\",\n  }\n}\n\nconst Wrapper = styled.div`\n  background: ${({ theme }) => theme.bg5};\n  width: 50vw;\n  max-width: 500px;\n  border-radius: 10px;\n  padding: 20px;\n  max-height:600px;\n  height:85vh;\n  position: absolute;\n  border: 1px solid #000000;\n  box-shadow: inset 0px 2px 2px rgb(211 211 211 / 10%);\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  padding-bottom:20px;\n  top:calc(50%);\n  z-index: 5;\n  margin:auto;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n      width: 95vw;\n  `}\n`\nconst StyledClose = styled(X)`\n  :hover {\n    cursor: pointer;\n    filter:brightness(0.8);\n  }\n`\nconst Line = styled.div`\nheight: 1px;\nbackground: rgba(255, 255, 255, 0.15);\nmargin:${({ my }) => my} 0;\n`\n\nconst TokenRow = styled(RowBetween)`\npadding:0 20px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n     padding:0 10px;\n  `}\n    :hover{\n        cursor:pointer;\n        background : #292929;\n    }\n`\nconst TokensWrap = styled.div`\n    margin:0 -20px;\n`\nconst TokenWrap = styled(FlexCenter)`\n    margin:7.5px 0;\n`\n\nconst SearchBox = ({ currencies, swapState, escapedType, changeToken, disableLoading = true, account, active, setActive }) => {\n\n  return (active &&\n    <ReactModal\n      isOpen={active}\n      style={customStyles}\n      closeTimeoutMS={200}\n      onRequestClose={() => setActive(false)}\n      shouldCloseOnOverlayClick={true}\n    >\n      <Wrapper>\n        <RowBetween fontWeight=\"300\" >\n          <Type.LG  >Select a Token</Type.LG>\n          <StyledClose stroke=\"white\" onClick={() => setActive(false)} />\n        </RowBetween>\n        <Line my=\"20px\"></Line>\n        <RowBetween mt=\"5px\" opacity=\"0.5\">\n          <Type.MD >Token</Type.MD>\n          <Type.MD >Balance</Type.MD>\n        </RowBetween>\n        <Line my=\"5px\"></Line>\n        <TokensWrap>\n          {Object.keys(currencies)\n            .filter(address => currencies[address].symbol !== swapState[escapedType].symbol && (!swapState[escapedType].pairID || (swapState[escapedType].pairID && currencies[address].pairID !== swapState[escapedType].pairID)))\n            .map((address, id) => {\n              return <TokenRow key={id} onClick={() => changeToken(currencies[address], escapedType)}>\n                <TokenWrap>\n                  <StyledLogo size=\"40px\" src={currencies[address]?.logo || CircleToken} alt={currencies[address]?.symbol || \"token\"} />\n                  <Type.LG style={{ marginLeft: \"10px\" }} >{currencies[address]?.symbol}</Type.LG>\n                </TokenWrap>\n                {!account || disableLoading || currencies[address].balance || isZero(currencies[address].balance)\n                  ? <Type.LG style={{ marginLeft: \"10px\", opacity: \"0.75\" }} >{formatBalance3(currencies[address]?.balance) || 0}</Type.LG>\n                  : <img style={{ marginRight: \"-15px\" }} src=\"/img/spinner.svg\" width=\"40\" height=\"40\" alt=\"sp\" />\n                }\n              </TokenRow>\n            })}\n        </TokensWrap>\n      </Wrapper >\n    </ReactModal >\n  );\n}\n\nexport default SearchBox;","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { MainWrapper, SwapWrapper } from '../../../components/App/Swap';\nimport { ZapTokens, deiToken } from '../../../constant/token';\nimport { StakingConfig } from '../../../constant/staking';\nimport { Flex } from 'rebass';\nimport { CostBox } from '../../../components/App/Dei/CostBox';\nimport SwapCard from '../../../components/App/Swap/SwapCard';\nimport SlippageTolerance from '../../../components/App/Swap/SlippageTolerance';\nimport LinkBox from '../../../components/App/Dei/LinkBox'\nimport { Type } from '../../../components/App/Text';\nimport { Image } from 'rebass/styled-components';\nimport { ZapContainer } from '../../../components/App/Dei/Zap';\nimport ZapBox from '../../../components/App/Dei/ZapBox';\nimport ZapStakingBox from '../../../components/App/Dei/ZapStakingBox';\nimport SwapAction from '../../../components/App/Dei/SwapAction';\nimport { useWeb3React } from '@web3-react/core';\nimport { useApprove } from '../../../hooks/useApprove';\nimport useTokenBalances from '../../../hooks/useTokenBalances';\nimport { useDebounce } from '../../../hooks/useDebounce';\nimport { ContentWrapper } from '../../../components/App/Dei';\nimport { useDeiUpdate, useZap, useAllowance, useGetAmountsOutZap } from '../../../hooks/useDei';\nimport { collatRatioState, husdPoolDataState } from '../../../store/dei';\nimport { useRecoilValue } from 'recoil';\nimport { useLocation } from 'react-router-dom';\nimport { getCorrectChains } from '../../../constant/correctChain';\nimport { formatBalance3, getSwapVsType } from '../../../utils/utils';\nimport SearchBox from '../../../components/App/Swap/SearchBox';\nimport { ChainId } from '../../../constant/web3';\nimport { fromWei } from '../../../helper/formatBalance';\nimport { Chains } from '../../../components/App/Dei/Chains';\nimport DeusTokenBox from '../../../components/App/Dei/DeusTokenBox';\nimport DeiTokenBox from '../../../components/App/Dei/BuyDEUS';\n\nconst Zap = () => {\n    const location = useLocation()\n    const { account, chainId } = useWeb3React()\n    const tempChain = null\n    const userChain = tempChain ? tempChain : chainId\n    const validChains = getCorrectChains(location.pathname)\n    const currChain = userChain && validChains.indexOf(userChain) !== -1 ? userChain : ChainId.ETH //TODO\n    useDeiUpdate(currChain)\n\n    const search = useLocation().search;\n    const queryParams = {\n        lp: new URLSearchParams(search).get('lp')?.toLowerCase(),\n    }\n\n    const collatRatio = useRecoilValue(collatRatioState)\n    const { minting_fee: mintingFee, mintPaused } = useRecoilValue(husdPoolDataState)\n    const [fastUpdate, setFastUpdate] = useState(0)\n    const [isApproved, setIsApproved] = useState(null)\n    const [approveLoading, setApproveLoading] = useState(false)\n    const [swapLoading, setSwapLoading] = useState(false)\n    const [escapedType, setEscapedType] = useState(\"from\")\n    const [activeSearchBox, setActiveSearchBox] = useState(false)\n    // const [activeStakingList, setActiveStakingList] = useState(false)\n    const activeStakingList = false\n    const availableStaking = StakingConfig[currChain]\n    const resultLp = queryParams.lp ? availableStaking.filter(staking => staking.title.toLowerCase() === queryParams.lp) : []\n    const lpIndex = resultLp.length > 0 ? resultLp[0].id : 1\n    const [stakingInfo, setStakingInfo] = useState(availableStaking[lpIndex])\n    const contractAddress = stakingInfo.zapperContract\n    const [slippage, setSlippage] = useState(0.5)\n    const [amountOutParams, setAmountOutParams] = useState(null)\n    const tokens = useMemo(() => currChain ? ZapTokens[currChain].filter((token) => !token.pairID) : [], [currChain])\n\n    //eslint-disable-next-line\n    const tokensMap = useMemo(() => (tokens.reduce((map, token) => (map[token.address] = { ...token, address: token.address }, map), {})\n    ), [tokens])\n\n    useEffect(() => {\n        setSwapState({\n            from: tokens[0],\n            to: deiToken[currChain]\n        })\n    }, [tokens, currChain])\n\n    //change zapper contract when chainId changed\n    useEffect(() => {\n        setStakingInfo(availableStaking[lpIndex])\n    }, [availableStaking, lpIndex])\n\n    const balances = useTokenBalances(tokensMap, currChain)\n\n    const TokensMap = tokensMap\n    const [swapState, setSwapState] = useState({\n        from: tokens[0],\n        to: deiToken[currChain],\n    })\n\n    const [, setFocusType] = useState(\"from1\")\n    const [amountIn, setAmountIn] = useState(\"\")\n    const debouncedAmountIn = useDebounce(amountIn, 1000);\n    const [amountOut, setAmountOut] = useState(\"\")\n    const [percentage, setPercentage] = useState(\"\")\n\n    const allowance = useAllowance(swapState.from, contractAddress, currChain, fastUpdate)\n\n    useEffect(() => {\n        if (amountIn === \"\" || debouncedAmountIn === \"\") {\n            setAmountOut(\"\")\n            setAmountOutParams(null)\n        }\n    }, [amountIn, debouncedAmountIn]);\n\n    useEffect(() => {\n        // setIsPreApproved(null)\n        setIsApproved(null)\n    }, [currChain, account, swapState.from]);\n\n    useEffect(() => {\n        if (allowance.gt(0)) {\n            setIsApproved(true)\n        } else {\n            setIsApproved(false)\n        }\n        //eslint-disable-next-line \n    }, [allowance]) //isPreApproved ?\n\n    const { onApprove } = useApprove(swapState.from, contractAddress, currChain)\n    const { onZap } = useZap(swapState.from, stakingInfo, debouncedAmountIn, slippage, amountOut, amountOutParams, currChain)\n    const { getAmountsOut } = useGetAmountsOutZap(swapState.from, contractAddress, amountIn, debouncedAmountIn, chainId)\n\n    useEffect(() => {\n        const get = async () => {\n            const result = await getAmountsOut()\n            // console.log(\"swap \", amount);\n            if (result === \"\") {\n                setAmountOut(\"\")\n                setAmountOutParams(null)\n                setPercentage(\"\")\n            }\n            else {\n                console.log(result);\n                // const result.\n                setAmountOutParams([result.percentage, result.lp, result.usdcForMintAmount, result.deusNeededAmount])\n                setAmountOut(result.lp)\n                setPercentage(fromWei(result.percentage, 4))\n            }\n        }\n        get()\n\n        //eslint-disable-next-line\n    }, [getAmountsOut, amountIn])//replace multiple useState variables with useReducer\n\n\n    const handleApprove = useCallback(async () => {\n        try {\n            setApproveLoading(true)\n            const tx = await onApprove()\n            if (tx.status) {\n                console.log(\"Approved\");\n                setFastUpdate(fastUpdate => fastUpdate + 1)\n                // setIsApproved(new BigNumber(tx.events.Approval.raw.data, 16).gt(0))\n            } else {\n                console.log(\"Approve Failed\");\n            }\n            setApproveLoading(false)\n\n        } catch (e) {\n            setApproveLoading(false)\n            console.error(e)\n        }\n    }, [onApprove])\n\n    const handleSwap = useCallback(async () => {\n        setSwapLoading(true)\n\n        try {\n            const tx = await onZap()\n            setSwapLoading(false)\n            if (tx.status) {\n                console.log(\"swap did\");\n                setAmountIn(\"\")\n                setFastUpdate(fastUpdate => fastUpdate + 1)\n            } else {\n                console.log(\"Swap Failed\");\n            }\n        } catch (e) {\n            console.error(e)\n            setSwapLoading(false)\n        }\n    }, [onZap])\n\n    const showSearchBox = (active = false, type) => {\n        setEscapedType(type)\n        setActiveSearchBox(active)\n    }\n\n    const changeToken = (token, type) => {\n        setActiveSearchBox(false)\n        setAmountIn(\"\")\n        setAmountOut(\"\")\n        setPercentage(\"\")\n        setAmountOutParams(null)\n        const vsType = getSwapVsType(type)\n        if (swapState[vsType].symbol === token.symbol) {\n            return setSwapState({ ...swapState, [type]: token, [vsType]: swapState[type] })\n        }\n        setSwapState({ ...swapState, [type]: token })\n    }\n\n    // TODO: loader animation --> needs to fix at the end\n    if (!swapState.from.address || collatRatio === null || mintingFee === null) {\n        return (<div className=\"loader-wrap\">\n            {<img className=\"loader\" src={process.env.PUBLIC_URL + \"/img/loading.png\"} alt=\"loader\" />}\n        </div>)\n    }\n\n    return (<>\n\n        <SearchBox\n            account={account}\n            currencies={balances}\n            swapState={swapState}\n            escapedType={escapedType}\n            changeToken={changeToken}\n            disableLoading={false}\n            active={activeSearchBox}\n            setActive={setActiveSearchBox} />\n\n        {/* <Under /> */}\n\n        {true && <MainWrapper >\n            <ContentWrapper deactivated={mintPaused}>\n                <Type.XL fontWeight=\"300\">Zap</Type.XL>\n                <SwapWrapper style={{ marginTop: \"25px\", maxWidth: \"560px\" }}>\n                    <Type.MD fontWeight=\"300\" mt=\"10px\" mb=\"30px\" opacity=\"0.5\"> Zap your tokens into LP tokens and stake with one click.</Type.MD>\n                    <ZapContainer>\n                        <ZapBox\n                            type=\"from\"\n                            setFocusType={setFocusType}\n                            focusType=\"from1\"\n                            hasMax={true}\n                            inputAmount={amountIn}\n                            setInputAmount={setAmountIn}\n                            setActive={showSearchBox}\n                            currency={swapState.from}\n                            TokensMap={TokensMap}\n                            fastUpdate={fastUpdate}\n                            chainId={currChain}\n                        />\n\n                        <Image src=\"/img/dei/zap.svg\" alt=\"zap\" mx=\"23px\" my=\"15px\" height=\"39px\" weight=\"21px\" />\n\n                        <ZapStakingBox\n                            type=\"to\"\n                            title=\"To (estimated)\"\n                            activeStakingList={activeStakingList}\n                            availableStaking={availableStaking}\n                            setStakingInfo={setStakingInfo}\n                            stakingInfo={stakingInfo}\n                            setFocusType={setFocusType}\n                            focusType=\"to\"\n                            inputAmount={amountOut}\n                            setInputAmount={setAmountOut}\n                            setActive={null} // setActiveStakingList\n                            TokensMap={TokensMap}\n                            currency={swapState.to}\n                            fastUpdate={fastUpdate}\n                            chainId={currChain}\n                        />\n                    </ZapContainer>\n                    <Flex justifyContent=\"space-between\" fontWeight=\"400\" fontSize=\"12.5px\" padding=\"0 10px\" mt=\"15px\" >\n                        <p style={{ opacity: \"0.75\" }}>Share of Pool</p>\n                        <p>{formatBalance3(percentage, 4)} %</p>\n                    </Flex>\n                    <SwapAction\n                        bgColor={\"grad_dei\"}\n                        text=\"ZAP\"\n                        isPreApproved={true}\n                        isApproved={isApproved}\n                        validNetworks={validChains}\n                        targetToken={swapState.from}\n                        loading={approveLoading}\n                        swapLoading={swapLoading}\n                        handleApprove={handleApprove}\n                        handleSwap={handleSwap}\n                        TokensMap={TokensMap}\n                        swapState={swapState}\n                        amountIn={amountIn}\n                        debouncedAmountIn={debouncedAmountIn}\n                        amountOut={amountOut}\n                        isMint={true}\n                    />\n\n                </SwapWrapper>\n\n                <SlippageTolerance slippage={slippage} setSlippage={setSlippage} bgColor={\"grad_dei\"} style={{ maxWidth: \"560px\" }} />\n                <SwapCard title=\"Zapping Fee\" value={mintingFee ? `${mintingFee} %` : \"\"} style={{ maxWidth: \"560px\" }} />\n            </ContentWrapper>\n        </MainWrapper>}\n\n        <div className='tut-left-wrap'>\n            <LinkBox />\n            <CostBox type={'mint'} chainId={currChain} />\n        </div>\n\n        <div className='tut-right-wrap'>\n            <DeusTokenBox />\n            <DeiTokenBox />\n            <Chains validChainId={chainId} validNetworks={validChains} />\n        </div>\n    </>);\n}\n\nexport default Zap;\n","import styled, { css } from 'styled-components'\nimport { FlexCenter } from '../Container';\n\nexport const InputAmount = styled.input.attrs({\n    type: \"number\",\n    autocomplete: \"off\",\n    autocorrect: \"off\",\n    spellcheck: \"false\"\n})`\n    font-weight: 400;\n    flex: 1 1 auto;\n    border: ${({ border }) => border || \"none\"};\n    outline-style: none;\n    width: ${({ width }) => width || \"0px\"};\n    font-size: ${({ fontSize }) => fontSize || \"25px\"};\n    color: ${({ theme }) => theme.text1};\n    background: transparent;\n    cursor: ${({ disabled }) => (disabled && \"not-allowed\")};\n`\nexport const SwapTitle = styled(FlexCenter)`\n    display: inline-flex;\n    font-family:\"Monument Grotesk Semi\";\n    padding:7px 20px 4px 20px;\n    border-radius: 15px 1px;\n    font-size:25px;\n    color:#000;\n    background:${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3};\n`\n\nexport const StyleSwapBase = css`\n    background: ${({ theme }) => theme.bg3};\n    border: 1px solid ${({ theme }) => theme.border1};\n    border-radius: 15px;\n    text-align:center;\n    margin:auto;\n    width:100%;\n    max-width:500px;\n    /* ${({ theme }) => theme.mediaWidth.upToLarge`\n        background: ${({ theme }) => theme.bg7};\n    `} */\n`\n\nexport const StyleTitles = css`\n    font-family:\"Monument Grotesk Semi\";\n   .inner-title{\n        opacity:0.75;\n    }\n`\nexport const SwapArrow = styled(FlexCenter)`\n    display:inline-flex;\n    cursor:pointer;\n    &:hover{\n        filter:brightness(0.8);\n    }\n`\nexport const MainWrapper = styled.div`\n   padding-top: 60px;\n   padding-bottom: 30px;\n   text-align:center;\n   max-width: 95%;\n   margin:auto;\n`\nexport const SwapWrapper = styled.div`\n${StyleSwapBase}\nborder-color:#000;\npadding:20px 15px;\nmargin-top:30px;\n`\n\nexport const SmallWrapper = styled(FlexCenter)`\n    ${StyleSwapBase}\n    ${StyleTitles}\n    justify-content:space-between;\n    height:50px;\n    /* margin-top:${({ mt }) => mt || \"-1px\"}; */\n    margin-top: -1px;\n    padding:0 20px;\n`","import { atom, selector } from 'recoil';\n\n\nexport const collatRatioState = atom({\n    key: 'collatRatio',\n    default: null,\n});\n\nexport const collatRatioPercent = selector({\n    key: 'collatRatioPercent',\n    default: null,\n});\n\n\nexport const deiPricesState = atom({\n    key: 'deiPrices',\n    default: {},\n});\n\nexport const coolDownState = atom({\n    key: 'coolDown',\n    default: 0,\n});\n\nexport const availableRecollatState = atom({\n    key: 'availableRecollat',\n    default: null,\n});\n\nexport const availableBuybackState = atom({\n    key: 'availableBuyback',\n    default: null,\n});\n\nexport const mintingFeeState = atom({\n    key: 'mintingFee',\n    default: null,\n});\n\nexport const redemptionFeeState = atom({\n    key: 'redemptionFee',\n    default: null,\n});\n\nexport const buyBackFeeState = atom({\n    key: 'buyBackFee',\n    default: null,\n});\n\nexport const recollatFeeState = atom({\n    key: 'recollatFee',\n    default: null,\n});\n\nexport const husdPoolDataState = atom({\n    key: 'husdPoolData',\n    default: {},\n});\n\nexport const APYState = atom({\n    key: 'APY',\n    default: \"\",\n});\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport DefaultLogo from '../../.../../../assets/images/empty-token.svg'\n// import EthereumLogo from '../../.../assets/images/ethereum-logo.svg'\n// import useHttpLocations from '../../hooks/useHttpLocations'\n// import { WrappedTokenInfo } from '../../state/lists/hooks'\n\n// export const getTokenLogoURL = (address) =>\n//     `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${address}/logo.png`\n\nexport const StyledLogo = styled.img`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  border-radius: ${({ size }) => size};\n  background-color:${({ bgColor }) => bgColor && bgColor};\n`\n\n\n// const StyledLogo = styled(StyledDefaultLogo)`\n//   background-color: ${({ theme }) => theme.white};\n// `\n\nexport default function CurrencyLogo({\n  currency,\n  bgColor,\n  size = '24px',\n  style\n}) {\n  // const uriLocations = useHttpLocations(currency instanceof WrappedTokenInfo ? currency.logoURI : undefined)\n\n  // const srcs = useMemo(() => {\n  //     if (currency === ETHER) return []\n\n  //     if (currency instanceof Token) {\n  //         if (currency instanceof WrappedTokenInfo) {\n  //             return [...uriLocations, getTokenLogoURL(currency.address)]\n  //         }\n  //         return [getTokenLogoURL(currency.address)]\n  //     }\n  //     return []\n  // }, [currency, uriLocations])\n\n  // if (currency === ETHER) {\n  //     return <StyledEthereumLogo src={EthereumLogo} size={size} style={style} />\n  // }\n\n  return <StyledLogo size={size} src={currency?.logo || DefaultLogo} bgColor={bgColor} alt={`${currency?.symbol ?? 'token'} logo`} style={style} />\n}","import { useEffect, useState } from \"react\";\n\nexport function useDebounce(value, delay, hotValue) {\n    // State and setters for debounced value\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    useEffect(\n        () => {\n            // Update debounced value after delay\n            const handler = setTimeout(() => {\n                setDebouncedValue(value);\n            }, delay);\n            // Cancel the timeout if value changes (also on delay change or unmount)\n            // This is how we prevent debounced value from updating if value is changed ...\n            // .. within the delay period. Timeout gets cleared and restarted.\n            return () => {\n                if (value === \"\") setDebouncedValue(\"\")\n                clearTimeout(handler);\n            };\n        },\n        [value, delay] // Only re-call effect if value or delay changes\n    );\n\n    useEffect(\n        () => {\n            setDebouncedValue(hotValue);\n        },\n        [hotValue])\n\n    return debouncedValue;\n}","module.exports = __webpack_public_path__ + \"static/media/empty-token.0bf5d0c2.svg\";","import styled from 'styled-components';\n\nexport const PlusImg = styled.img`\n    z-index: 1;\n    position: relative;\n    text-align: center;\n    margin-top: -20px;\n\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        margin-bottom: 5px;\n        width: 23px;\n        height: 23px;\n    `}\n`\n\n\nexport const ContentWrapper = styled.div`\n    opacity: ${({ deactivated }) => deactivated ? \"0.5\" : \"1\"};\n    pointer-events: ${({ deactivated }) => deactivated ? \"none\" : \"default\"};\n`","import BigNumber from \"bignumber.js\"\nimport { COLLATERAL_ADDRESS, COLLATERAL_POOL_ADDRESS, DEI_ADDRESS, DEI_COLLATERAL_ZAP, DEI_DEUS_ZAP, DEUS_ADDRESS, MINT_PATH } from \"../constant/contracts\"\nimport { isZero, TEN } from \"../constant/number\"\nimport { collateralToken } from \"../constant/token\"\nimport { ChainId } from \"../constant/web3\"\nimport { TransactionState } from \"../utils/constant\"\nimport { CustomTransaction, getTransactionLink } from \"../utils/explorers\"\nimport { fetcher, formatUnitAmount } from \"../utils/utils\"\nimport { getDeiContract, getDeiStakingContract, getCollateralPoolContract, getZapContract, getNewProxyMinterContract, getDeusSwapContract } from \"./contractHelpers\"\nimport { getToWei } from \"./formatBalance\"\n\nconst baseUrl = \"https://oracle4.deus.finance/dei\"\n\nexport const dollarDecimals = 6\nexport const collatUsdPrice = \"1000000\"\nconst LENGTH_COLLAT = {}\n\nconst COLLAT_PRICE = {\n    [ChainId.BSC_TESTNET]:\"1000000000000000000\",\n    [ChainId.BSC]:\"1000000000000000000\",\n}\n\nexport const makeCostData = (deiPrice, collatRatio, poolBalance = null, ceiling = null,decimals=6) => {\n    const dp = deiPrice ? `$${new BigNumber(deiPrice).toFixed(2)}` : null\n    const cr = collatRatio !== null ? `${new BigNumber(collatRatio).toFixed(2)}%` : null\n    const pc = poolBalance !== null && ceiling !== null ? formatUnitAmount(poolBalance) + ' / ' + formatUnitAmount(new BigNumber(ceiling).div(TEN.pow(decimals-6))) : null\n    const av = pc ? formatUnitAmount(new BigNumber(ceiling).minus(poolBalance).div(TEN.pow(decimals-6))) : null\n    return [{\n        name: 'DEI PRICE',\n        value: dp\n    }, {\n        name: 'COLLATERAL RATIO',\n        value: cr\n    }, {\n        name: 'POOL BALANCE / CEILING',\n        value: pc\n    }, {\n        name: 'AVAILABLE TO MINT',\n        value: av\n    }]\n}\n\nexport const makeCostDataRedeem = (collatRatio, poolBalance, chainId = ChainId.ETH) => {\n    const cToken = collateralToken[chainId]\n    const cr = collatRatio !== null ? `${new BigNumber(collatRatio).toFixed(2)}%` : null\n    const pb = poolBalance !== null ? `${formatUnitAmount(poolBalance)} ${cToken.symbol}` : null\n    return [{\n        name: 'COLLATERAL RATIO',\n        value: cr\n    }, {\n        name: 'POOL BALANCE',\n        value: pb\n    }]\n}\n\nexport const makeCostDataBuyBack = (deus_price, dei_price, pool, buyBack, recollateralize, address, chainId) => {\n    if (!chainId) return []\n    const cToken = collateralToken[chainId]\n    const deusPrice = deus_price !== null && !isNaN(deus_price) ? `$${new BigNumber(deus_price).toFixed(3)}` : null\n    const deiPrice = dei_price !== null && !isNaN(dei_price) ? `$${new BigNumber(dei_price).toFixed(3)}` : null\n    const p = pool ? pool : null\n    const bb = buyBack !== null && !isNaN(buyBack) ? `${formatUnitAmount(buyBack)} DEUS` : null\n    const rc = recollateralize !== null && !isNaN(recollateralize) ? `${formatUnitAmount(recollateralize)} ${cToken.symbol}` : null\n\n    return [{\n        name: 'EXCHANGE RATES',\n        title1: cToken.symbol,\n        value1: deiPrice,\n        title2: 'DEUS: ',\n        value2: deusPrice\n    }, {\n        name: 'AVAILABLE VALUE',\n        title1: 'To Buyback: ',\n        value1: bb,\n        title2: 'To Recollateralize: ',\n        value2: rc\n    }, {\n        name: 'POOL ',\n        value1: p,\n        isLink: true,\n        path: getTransactionLink(chainId, address)\n    }]\n}\n\n//MULTICALL Array\nexport const getStakingData = (conf, account) => {\n    if (!conf) return []\n    return [\n        {\n            address: conf.stakingContract,\n            name: \"users\",\n            params: [account]\n        },\n        {\n            address: conf.stakingContract,\n            name: \"pendingReward\",\n            params: [account]\n        }\n    ]\n}\nexport const getStakingTokenData = (conf, account) => {\n    if (!account) return []\n    return [\n        {\n            address: conf.depositToken.address,\n            name: \"allowance\",\n            params: [account, conf.stakingContract]\n        },\n        {\n            address: conf.depositToken.address,\n            name: \"balanceOf\",\n            params: [account]\n        },\n        {\n            address: conf.depositToken.address,\n            name: \"balanceOf\",\n            params: [conf.stakingContract]\n        }\n    ]\n}\n\nexport const getHusdPoolData = (chainId = ChainId.ETH, collat_usd_price, account) => {\n    const LEN = LENGTH_COLLAT[chainId] ?? 3\n    let collaterals = []\n    for (let i = 0; i < LEN; i++) {\n        collaterals.push(COLLAT_PRICE[chainId] ?? collat_usd_price);\n    }\n    \n    let calls = [\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'collatDollarBalance',\n            params: [COLLAT_PRICE[chainId] ?? collat_usd_price],\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'availableExcessCollatDV',\n            params: [collaterals]\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'pool_ceiling',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redemption_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'minting_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'buyback_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'recollat_fee',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'recollateralizePaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'buyBackPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'mintPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemPaused',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'bonus_rate',\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redemption_delay',\n        },\n    ]\n    if (account) {\n        calls = [...calls,\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemDEUSBalances',\n            params: [account]\n        },\n        {\n            address: COLLATERAL_POOL_ADDRESS[chainId],\n            name: 'redeemCollateralBalances',\n            params: [account]\n        }]\n    }\n    return calls\n}\n\n//WRITE FUNCTIONS\nexport const SendWithToast = (fn, account, chainId, message, payload = {}) => {\n\n    if (!fn) return\n    let hash = null\n    const value = payload.value ? { value: payload.value } : {}\n    const customSend = { from: account, ...value }\n    return fn\n        .send(customSend)\n        .once('transactionHash', (tx) => {\n            hash = tx\n            CustomTransaction(TransactionState.LOADING, {\n                hash,\n                chainId: chainId,\n                message: message,\n            })\n        })\n        .once('receipt', () => CustomTransaction(TransactionState.SUCCESS, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n        .once('error', () => CustomTransaction(TransactionState.FAILED, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n}\n\nexport const DeiDeposit = (depositedToken, amount, address, web3) => {\n    console.log(getToWei(amount, depositedToken.decimals).toFixed(0));\n    return getDeiStakingContract(web3, address)\n        .methods\n        .deposit(getToWei(amount, depositedToken.decimals).toFixed(0))\n}\n\nexport const DeiWithdraw = (withdrawToken, amount, address, web3) => {\n    return getDeiStakingContract(web3, address)\n        .methods\n        .withdraw(getToWei(amount, withdrawToken.decimals).toFixed(0))\n}\n\nexport const buyBackDEUS = (amountIn, deus_price, expire_block, signature, pool_collateral_price = \"0\", account, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .buyBackDEUS(amountIn, [pool_collateral_price], deus_price, expire_block, [signature])\n}\n\nexport const RecollateralizeDEI = (collateral_price, deus_price, expire_block, signature, amountIn, pool_collateral_price, account, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .recollateralizeDEI([amountIn, pool_collateral_price, [collateral_price], deus_price, expire_block, [signature]])\n}\n\n//HUSD MINT\nexport const mint1t1DEI = (collateral_amount, collateral_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mint1t1DEI(collateral_amount, collateral_price, expire_block, [signature])\n}\n\nexport const mintFractional = (collateral_amount, deus_amount, collateral_price, deus_current_price, expireBlock, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mintFractionalDEI(collateral_amount, deus_amount, collateral_price, deus_current_price, expireBlock, [signature])\n}\n\nexport const mintAlgorithmic = (deus_amount_d18, deus_current_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .mintAlgorithmicDEI(deus_amount_d18, deus_current_price, expire_block, [signature])\n}\n\nexport const redeem1to1Dei = (amountIn, collateral_price, expire_block, signature, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeem1t1DEI(amountIn, collateral_price, expire_block, [signature])\n}\n\nexport const redeemFractionalDei = (collateral_price, deus_price, expire_block, signature, amountIn, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeemFractionalDEI(amountIn, collateral_price, deus_price, expire_block, [signature])\n}\n\nexport const redeemAlgorithmicDei = (deus_price, expire_block, signature, amountIn, chainId, web3) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .redeemAlgorithmicDEI(amountIn, deus_price, expire_block, [signature])\n}\n\nexport const getClaimAll = async (account, web3, chainId = ChainId.ETH) => {\n    return getCollateralPoolContract(web3, chainId)\n        .methods\n        .collectRedemption()\n        .send({ from: account })\n}\n\n//READ FUNCTIONS\nexport const getDeiInfo = async (web3, chainId = ChainId.ETH, collat_usd_price = collatUsdPrice) => {\n    const LEN = LENGTH_COLLAT[chainId] ?? 3\n    let collaterals = []\n    for (let i = 0; i < LEN; i++) {\n        // console.log(COLLAT_PRICE[chainId], collat_usd_price);\n        collaterals.push(COLLAT_PRICE[chainId] ?? collat_usd_price);\n    }\n\n    return getDeiContract(web3, chainId)\n        .methods\n        .dei_info(collaterals)\n        .call()\n}\n\nexport const makeDeiRequest = async (path, chainId = 4) => {\n    return fetcher(baseUrl + path + `?chainId=${chainId}`)\n}\n\nexport const isProxyMinter = (token, isPair, collatRatio, chainId) => {\n    if (!token || !token.symbol || collatRatio === null) return null\n    if ((collatRatio === 100 && token.symbol === collateralToken[chainId]?.symbol && !isPair) ||\n        (collatRatio === 0 && token.symbol === \"DEUS\" && !isPair) ||\n        (collatRatio > 0 && collatRatio < 100 && isPair)) return false\n    return true\n}\n\n\nexport const getAmountOutDeusSwap = async (fromCurrency, amountIn, deus_price, collateral_price, web3, chainId) => {\n    //getERC202DEIInputs\n    if (!fromCurrency || !amountIn || isZero(amountIn) || deus_price === undefined) return \"\"\n    const amountInToWei = getToWei(amountIn, fromCurrency.decimals).toFixed(0)\n    const collateralPriceWei = getToWei(collateral_price, 6).toFixed(0)\n    const deusPriceWei = getToWei(deus_price, 6).toFixed(0)\n    let method = \"\"\n    let params = [amountInToWei, deusPriceWei, collateralPriceWei]\n    console.log(chainId, amountInToWei);\n\n    const erc20Path = MINT_PATH[chainId][fromCurrency.symbol]\n\n    if (fromCurrency.address === COLLATERAL_ADDRESS[chainId]) {\n        method = \"getUSDC2DEUSInputs\"\n    } else {\n        method = \"getERC202DEUSInputs\"\n        if (!erc20Path) {\n            console.error(\"INVALID PATH with \", fromCurrency)\n            return\n        }\n        params.push(erc20Path)\n    }\n    console.log(method, params);\n    return getDeusSwapContract(web3, chainId).methods[method](...params).call()\n}\n\nexport const getAmountOutProxy = async (fromCurrency, amountIn, deus_price, collateral_price, web3, chainId) => {\n    //getERC202DEIInputs\n    if (!fromCurrency || !amountIn || isZero(amountIn) || deus_price === undefined) return \"\"\n    const amountInToWei = getToWei(amountIn, fromCurrency.decimals).toFixed(0)\n    const collateralPriceWei = getToWei(collateral_price, 6).toFixed(0)\n    const deusPriceWei = getToWei(deus_price, 6).toFixed(0)\n    let method = \"\"\n    let params = [amountInToWei, deusPriceWei, collateralPriceWei]\n    console.log(chainId, amountInToWei);\n\n    const erc20Path = MINT_PATH[chainId][fromCurrency.symbol]\n\n    if (fromCurrency.address === COLLATERAL_ADDRESS[chainId]) {\n        method = \"getUSDC2DEIInputs\"\n    } else {\n        method = \"getERC202DEIInputs\"\n        if (!erc20Path) {\n            console.error(\"INVALID PATH with \", fromCurrency)\n            return\n        }\n        params.push(erc20Path)\n    }\n    console.log(method, params);\n    return getNewProxyMinterContract(web3, chainId).methods[method](...params).call()\n}\n\n\nexport const getZapAmountsOut = async (currency, amountInToWei, zapperAddress, result, web3, chainId) => {\n    const erc20Path = MINT_PATH[chainId][currency.symbol]\n\n    if (zapperAddress === DEI_COLLATERAL_ZAP[chainId]) {\n        if (currency.address === COLLATERAL_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPCollateral \", zapperAddress, amountInToWei);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPCollateral(amountInToWei).call()\n        } else if (currency.address === DEUS_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPDEUS \", amountInToWei);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPDEUS(amountInToWei, [...erc20Path]).call()\n        } else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"getAmountOutLPDEI haaa\", amountInToWei, zapperAddress);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .getAmountOutLPDEI(amountInToWei).call()\n        }\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPERC20ORNativecoin(amountInToWei, [...erc20Path]).call()\n    }\n\n    if (currency.address === DEUS_ADDRESS[chainId]) {\n        console.log(\"getAmountOutLPDEUS \", amountInToWei);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPDEUS(amountInToWei).call()\n    } else if (currency.address === DEI_ADDRESS[chainId]) {\n        console.log(\"getAmountOutLPDEI \", amountInToWei, zapperAddress);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .getAmountOutLPDEI(amountInToWei).call()\n    }\n    console.log(\"getAmountOutLPERC20ORNativecoin \", amountInToWei, result.deus_price, result.collateral_price, erc20Path);\n    return getZapContract(web3, zapperAddress, chainId)\n        .methods\n        .getAmountOutLPERC20ORNativecoin(amountInToWei, result.deus_price, result.collateral_price, erc20Path).call() // TODO  VALUE:AVAX?\n}\n\n\nexport const zapIn = (currency, zapperAddress, amountIn, minLpAmount, result, amountOutParams, transferResidual, web3, chainId) => {\n    const erc20Path = MINT_PATH[chainId][currency.symbol]\n    const { collateral_price, deus_price, expire_block, signature } = result\n\n    let proxyTuple = []\n    if (amountOutParams.length > 0)\n        proxyTuple = [\n            amountIn,\n            minLpAmount,\n            deus_price,\n            collateral_price,\n            amountOutParams[2],\n            amountOutParams[3],\n            expire_block,\n            [signature]\n        ]\n\n\n    if (zapperAddress === DEI_DEUS_ZAP[chainId]) {\n        if (currency.address === \"0x\") {\n            console.log(\"zapInNativecoin \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInNativecoin(proxyTuple, minLpAmount, erc20Path, transferResidual) // TODO  VALUE:AVAX?\n        }\n        else if (currency.address === DEUS_ADDRESS[chainId]) {\n\n            console.log(\"zapInDEUS \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEUS(amountIn, minLpAmount, transferResidual)\n        }\n        else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"zapInDEI \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEI(amountIn, minLpAmount, transferResidual)\n        }\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .zapInERC20(proxyTuple, amountIn, minLpAmount, erc20Path, transferResidual)\n\n    } else {\n        if (currency.address === \"0x\") {\n            console.log(erc20Path, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInNativecoin(erc20Path, minLpAmount, transferResidual) // TODO  VALUE:AVAX?\n        }\n        else if (currency.address === COLLATERAL_ADDRESS[chainId]) {\n            console.log(\"zapInCollateral \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInCollateral(amountIn, minLpAmount, transferResidual)\n        }\n        else if (currency.address === DEUS_ADDRESS[chainId]) {\n            console.log(\"zapInDEUS \", amountIn, minLpAmount, transferResidual, erc20Path);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEUS(amountIn, minLpAmount, transferResidual, erc20Path)\n        }\n        else if (currency.address === DEI_ADDRESS[chainId]) {\n            console.log(\"zapInDEI \", amountIn, minLpAmount, transferResidual);\n            return getZapContract(web3, zapperAddress, chainId)\n                .methods\n                .zapInDEI(amountIn, minLpAmount, transferResidual)\n        }\n        console.log(erc20Path, amountIn, minLpAmount, transferResidual);\n        return getZapContract(web3, zapperAddress, chainId)\n            .methods\n            .zapInERC20(erc20Path, amountIn, minLpAmount, erc20Path, transferResidual)\n    }\n}\n","import useWeb3, { useCrossWeb3 } from './useWeb3'\nimport { useEffect, useState, useCallback } from \"react\"\nimport { useWeb3React } from '@web3-react/core'\nimport useRefresh from './useRefresh'\nimport BigNumber from 'bignumber.js'\nimport { fromWei, getToWei, RemoveTrailingZero } from '../helper/formatBalance'\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport HusdPoolAbi from '../config/abi/HusdPoolAbi.json'\nimport StakingDeiAbi from '../config/abi/StakingDeiAbi.json'\nimport ERC20Abi from '../config/abi/ERC20Abi.json'\nimport multicall from '../helper/multicall'\nimport { useCrossERC20 } from './useContract'\nimport { ethers } from \"ethers\";\nimport { isZero, ZERO } from \"../constant/number\";\nimport { collatRatioState, deiPricesState, husdPoolDataState, availableRecollatState } from '../store/dei'\nimport {\n    makeDeiRequest, getDeiInfo, dollarDecimals, getHusdPoolData,\n    redeem1to1Dei, redeemFractionalDei, redeemAlgorithmicDei, getClaimAll, mintFractional, mintAlgorithmic,\n    buyBackDEUS, RecollateralizeDEI, getStakingData, getStakingTokenData, DeiDeposit, DeiWithdraw, SendWithToast,\n    mint1t1DEI, collatUsdPrice, zapIn, getZapAmountsOut\n} from '../helper/deiHelper'\nimport { blockNumberState } from '../store/wallet'\nimport { formatBalance3 } from '../utils/utils'\nimport { collateralToken } from '../constant/token'\nimport { COLLATERAL_ADDRESS, DEI_ADDRESS, DEUS_ADDRESS, MINT_PATH } from '../constant/contracts'\nimport { getDeusSwapContract, getNewProxyMinterContract } from '../helper/contractHelpers'\n\n\nexport const useAPY = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { slowRefresh } = useRefresh()\n    const [apy, setApy] = useState(null)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const apy = await makeDeiRequest(\"/apy\", validChainId)\n                const apyValue = apy ? apy : null\n                setApy(apyValue)\n            } catch (error) {\n                console.log(\"useAPY \", error);\n            }\n        }\n        if (validChainId)\n            get()\n    }, [slowRefresh, web3, setApy, validChainId])\n\n    useEffect(() => {\n        setApy(null)\n    }, [validChainId])\n\n    return apy\n}\n\n\nexport const useZap = (currency, stakingInfo, amountIn, slippage, amountOut, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleZap = useCallback(async () => {\n        if ((validChainId && chainId !== validChainId) || !currency) return false\n\n        const amountInToWei = getToWei(amountIn, currency.decimals).toFixed(0)\n        // const minLpAmountToWei = getToWei(minLpAmount, 18).toFixed(0)\n        const minLpAmountToWei = new BigNumber(amountOut).multipliedBy((100 - Number(slippage)) / 100).toFixed(0, 1)\n        // const minLpAmountToWei = \"0\" //TODO\n        try {\n            let path = \"/mint-fractional\"\n            const result = await makeDeiRequest(path, validChainId)\n\n            const fn = zapIn(currency, stakingInfo.zapperContract, amountInToWei, minLpAmountToWei, result, amountOutParams, false, web3, chainId)\n            const payload = currency.address === \"0x\" ? { value: amountInToWei } : {}\n            return await SendWithToast(fn, account, chainId, `Zap ${amountIn} ${currency.symbol} to ${stakingInfo?.title} `, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [currency, stakingInfo, amountIn, amountOut, amountOutParams, validChainId, chainId, account, web3, slippage])\n    return { onZap: handleZap }\n}\n\n\n\n\nexport const useGetAmountsOutZap = (currency, zapperContract, amountIn, debouncedAmountIn, validChainId) => {\n    const web3 = useWeb3()\n\n    const handleGetAmountOut = useCallback(async () => {\n        if (!validChainId || !currency || !amountIn || amountIn === \"\" || isZero(amountIn) || !zapperContract || debouncedAmountIn !== amountIn) return \"\"\n        const amountInToWei = getToWei(amountIn, currency.decimals).toFixed(0)\n        try {\n            let result = null\n            if (currency.address !== DEUS_ADDRESS[validChainId] && currency.address !== DEI_ADDRESS[validChainId]) {\n                let path = \"/mint-fractional\"\n                result = await makeDeiRequest(path, validChainId)\n            }\n\n            const amount = await getZapAmountsOut(\n                currency,\n                amountInToWei,\n                zapperContract,\n                result,\n                web3,\n                validChainId,\n            )\n            return amount\n        } catch (e) {\n            console.log(e);\n            return false\n        }\n\n    }, [currency, zapperContract, amountIn, debouncedAmountIn, validChainId, web3])\n    return { getAmountsOut: handleGetAmountOut }\n}\n\n\nexport const useDeposit = (currency, amount, address, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleDeposit = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        console.log(amount);\n        const fn = DeiDeposit(currency, amount, address, web3)\n\n        return await SendWithToast(fn, account, chainId, `Stake ${amount} ${currency.symbol}`)\n    }, [currency, amount, address, validChainId, chainId, account, web3])\n    return { onDeposit: handleDeposit }\n}\n\nexport const useWithdraw = (currency, amount, address, validChainId) => {\n    const web3 = useWeb3()\n\n    const { account, chainId } = useWeb3React()\n    const handleWithdraw = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const fn = DeiWithdraw(currency, amount, address, web3)\n        const message = isZero(amount) ? `Claim DEUS` : `Withdraw ${amount} ${currency.symbol}`\n        return await SendWithToast(fn, account, chainId, message)\n    }, [currency, amount, address, validChainId, chainId, account, web3])\n    return { onWithdraw: handleWithdraw }\n}\n\nexport const useBuyBack = (fromCurrency, toCurrency, amountIn, amountOut, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n    const handleBuyBack = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const result = await makeDeiRequest(\"/buyback\", validChainId)\n        const fn = buyBackDEUS(\n            getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n            result.deus_price,\n            result.expire_block,\n            result.signature,\n            collatUsdPrice,\n            account,\n            chainId,\n            web3,\n        )\n        return await SendWithToast(fn, account, chainId, `BuyBack ${amountIn} ${fromCurrency.symbol} for ${amountOut} ${toCurrency.symbol}`)\n\n    }, [fromCurrency, toCurrency, amountIn, amountOut, validChainId, account, chainId, web3])\n\n    return { onBuyBack: handleBuyBack }\n}\n\nexport const useRecollat = (fromCurrency, toCurrency, amountIn, amountOut, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleRecollat = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const result = await makeDeiRequest(\"/recollat\", validChainId)\n        const fn = RecollateralizeDEI(\n            result.collateral_price,\n            result.deus_price,\n            result.expire_block,\n            result.signature,\n            getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n            collatUsdPrice,\n            account,\n            chainId,\n            web3,\n        )\n\n        return await SendWithToast(fn, account, chainId, `Recollat ${amountIn} ${fromCurrency.symbol} for ${amountOut} ${toCurrency.symbol}`)\n\n    }, [fromCurrency, toCurrency, amountIn, amountOut, validChainId, account, chainId, web3])\n\n    return { onRecollat: handleRecollat }\n}\n\nexport const useClaimAll = (validChainId = 4) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleClaimAll = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        const tx = await getClaimAll(account, web3, chainId)\n        return tx\n    }, [account, chainId, validChainId, web3])\n    return { onClaimAll: handleClaimAll }\n}\n\nexport const useRedeem = (fromCurrency, to1Currency, to2Currency, amountIn, amountOut1, amountOut2, collatRatio, validChainId = 1) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleRedeem = useCallback(async () => {\n        if (validChainId && chainId !== validChainId) return false\n        let fn = null\n        if (collatRatio === 100) {\n            const result = await makeDeiRequest(\"/redeem-1to1\", validChainId)\n            fn = redeem1to1Dei(\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                result.collateral_price,\n                result.expire_block,\n                result.signature,\n                chainId,\n                web3,\n            )\n        } else if (collatRatio > 0) {\n            const result = await makeDeiRequest(\"/redeem-fractional\", validChainId)\n            fn = redeemFractionalDei(\n                result.collateral_price,\n                result.deus_price,\n                result.expire_block,\n                result.signature,\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                chainId,\n                web3,\n            )\n        } else {\n            const result = await makeDeiRequest(\"/redeem-algorithmic\", validChainId)\n            fn = redeemAlgorithmicDei(\n                result.deus_price,\n                result.expire_block,\n                result.signature,\n                getToWei(amountIn, fromCurrency.decimals).toFixed(0),\n                chainId,\n                web3,\n            )\n        }\n        return await SendWithToast(fn, account, chainId, `Redeem ${amountIn} ${fromCurrency.symbol}`)\n    }, [fromCurrency, amountIn, account, chainId, collatRatio, validChainId, web3])\n\n    return { onRedeem: handleRedeem }\n}\n\nexport const useMint = (from1Currency, from2Currency, toCurrency, amountIn1, amountIn2, amountOut, collatRatio, slippage, proxy, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleMint = useCallback(async () => {\n\n        if (validChainId && chainId !== validChainId) return false\n        if (!from1Currency || !toCurrency || !amountIn1 || !amountOut) return\n\n        const amount1toWei = getToWei(amountIn1, from1Currency.decimals).toFixed(0)\n        const amountOutToWei = getToWei(amountOut, toCurrency.decimals).toFixed(0)\n        const minAmountOutToWei = getToWei(amountOut, toCurrency.decimals).times(1 - (slippage / 100)).toFixed(0)\n\n        let path = \"/mint-algorithmic\"\n        let fn = null\n        if (!proxy) {\n            if (collatRatio === 100) {\n                path = \"/mint-1to1\"\n                const result = await makeDeiRequest(path, validChainId)\n                fn = mint1t1DEI(\n                    amount1toWei,\n                    result.collateral_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            } else if (collatRatio > 0) {\n                path = \"/mint-fractional\"\n                const result = await makeDeiRequest(path, validChainId)\n                const amount2toWei = getToWei(amountIn2, from2Currency.decimals).toFixed(0)\n                fn = mintFractional(\n                    amount1toWei,\n                    amount2toWei,\n                    result.collateral_price.toString(),\n                    result.deus_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            } else {\n                const result = await makeDeiRequest(path, validChainId)\n                fn = mintAlgorithmic(\n                    amount1toWei,\n                    result.deus_price,\n                    result.expire_block,\n                    result.signature,\n                    chainId,\n                    web3,\n                )\n            }\n        } else {\n            path = \"/mint-fractional\"\n            try {\n                const result = await makeDeiRequest(path, validChainId)\n                const { collateral_price, deus_price, expire_block, signature } = result\n                const erc20Path = MINT_PATH[chainId][from1Currency.symbol]\n                let method = \"\"\n                let proxyTuple = []\n                if (amountOutParams.length > 0 && amountOutParams[0] === amountOutToWei)\n                    proxyTuple = [\n                        amount1toWei,\n                        minAmountOutToWei,\n                        deus_price,\n                        collateral_price,\n                        amountOutParams[1],\n                        amountOutParams[2],\n                        expire_block,\n                        [signature]\n                    ]\n                let param = [proxyTuple]\n\n                if (from1Currency.address === \"0x\") {\n                    method = \"Nativecoin2DEI\"\n                    param.push(erc20Path)\n\n                }\n                else if (from1Currency.address === COLLATERAL_ADDRESS[chainId]) {\n                    method = \"USDC2DEI\"\n                }\n\n                else {\n                    if (!erc20Path) {\n                        console.error(\"INVALID PATH with \", from1Currency)\n                        return\n                    }\n                    method = \"ERC202DEI\"\n                    param.push(erc20Path)\n                }\n                console.log(method, param);\n\n                fn = getNewProxyMinterContract(web3, chainId).methods[method](...param)\n\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        const payload = from1Currency.address === \"0x\" ? { value: amount1toWei } : {}\n\n        try {\n            return await SendWithToast(fn, account, chainId, `Mint ${amountOut} ${toCurrency.symbol}`, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [from1Currency, from2Currency, toCurrency, amountIn1, amountIn2, amountOut, collatRatio, slippage, proxy, amountOutParams, account, chainId, validChainId, web3])\n\n    return { onMint: handleMint }\n}\n\n\nexport const useSwap = (from1Currency, toCurrency, amountIn1, amountOut, collatRatio, slippage, proxy, amountOutParams, validChainId) => {\n    const web3 = useWeb3()\n    const { account, chainId } = useWeb3React()\n\n    const handleMint = useCallback(async () => {\n\n        if (validChainId && chainId !== validChainId) return false\n        if (!from1Currency || !toCurrency || !amountIn1 || !amountOut) return\n\n        const amount1toWei = getToWei(amountIn1, from1Currency.decimals).toFixed(0)\n        const amountOutToWei = getToWei(amountOut, toCurrency.decimals).toFixed(0)\n        const minAmountOutToWei = getToWei(amountOut, toCurrency.decimals).times(1 - (slippage / 100)).toFixed(0)\n\n        let fn = null\n\n        let path = \"/mint-fractional\"\n        try {\n            const result = await makeDeiRequest(path, validChainId)\n            const { collateral_price, deus_price, expire_block, signature } = result\n            const erc20Path = MINT_PATH[chainId][from1Currency.symbol]\n            let method = \"\"\n            let proxyTuple = []\n            if (amountOutParams.length > 0 && amountOutParams[0] === amountOutToWei)\n                proxyTuple = [\n                    amount1toWei,\n                    minAmountOutToWei,\n                    deus_price,\n                    collateral_price,\n                    amountOutParams[1],\n                    amountOutParams[2],\n                    expire_block,\n                    [signature]\n                ]\n            let param = [proxyTuple]\n\n            if (from1Currency.address === \"0x\") {\n                method = \"Nativecoin2DEUS\"\n                param.push(erc20Path)\n\n            }\n            else if (from1Currency.address === COLLATERAL_ADDRESS[chainId]) {\n                method = \"USDC2DEUS\"\n            }\n\n            else {\n                if (!erc20Path) {\n                    console.error(\"INVALID PATH with \", from1Currency)\n                    return\n                }\n                method = \"ERC202DEUS\"\n                param.push(erc20Path)\n            }\n            console.log(method, param);\n\n            fn = getDeusSwapContract(web3, chainId).methods[method](...param)\n\n        } catch (error) {\n            console.log(error);\n        }\n        const payload = from1Currency.address === \"0x\" ? { value: amount1toWei } : {}\n\n        try {\n            return await SendWithToast(fn, account, chainId, `Mint ${amountOut} ${toCurrency.symbol}`, payload)\n        } catch (error) {\n            console.log(error);\n        }\n    }, [from1Currency, toCurrency, amountIn1, amountOut, slippage, amountOutParams, account, chainId, validChainId, web3])\n\n    return { onMint: handleMint }\n}\n\n\nexport const useStakingInfo = (conf, validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { fastRefresh } = useRefresh()\n    const [res, setRes] = useState(conf)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const mul = await multicall(web3, StakingDeiAbi, getStakingData(conf, account), validChainId)\n                const [\n                    users,\n                    pendingReward\n                ] = mul\n                const { depositAmount, paidReward } = users\n\n                setRes({\n                    ...conf,\n                    depositAmount: RemoveTrailingZero(fromWei(depositAmount[\"_hex\"], 18), 18),\n                    paidReward: RemoveTrailingZero(fromWei(paidReward[\"_hex\"], 18), 18),\n                    pendingReward: formatBalance3(fromWei(pendingReward, 18), 6),\n                })\n            } catch (error) {\n                console.log(\"useStakingInfo \", error);\n            }\n\n        }\n        if (web3 && account) {\n            get()\n        }\n    }, [conf, fastRefresh, account, chainId, validChainId, web3])\n    return res\n}\n\nexport const useTokenInfo = (conf, validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { fastRefresh } = useRefresh()\n    const [res, setRes] = useState(conf)\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const mul = await multicall(web3, ERC20Abi, getStakingTokenData(conf, account), validChainId)\n\n                const [\n                    allowance,\n                    depositTokenWalletBalance,\n                    totalDepositBalance\n                ] = mul\n                setRes({\n                    ...conf,\n                    allowance: new BigNumber(allowance),\n                    depositTokenWalletBalance: fromWei(depositTokenWalletBalance),\n                    totalDepositBalance: fromWei(totalDepositBalance),\n                })\n            } catch (error) {\n                console.log(\"useTokenInfo \", error);\n\n            }\n\n        }\n        if (web3 && account && conf) {\n            get()\n        }\n    }, [conf, fastRefresh, account, chainId, validChainId, web3])\n    return res\n}\n\nexport const useAvailableRecollat = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n\n    const { slowRefresh } = useRefresh()\n    const setAvailableRecollat = useSetRecoilState(availableRecollatState)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const dei_info_result = await getDeiInfo(web3, validChainId)\n                let { \"0\": dei_total_supply, \"1\": global_collateral_ratio, \"2\": global_collat_value } = dei_info_result\n                let recollat_possible = fromWei((global_collateral_ratio * dei_total_supply - (global_collat_value * (1e6))) / (1e6), 18);\n                setAvailableRecollat(recollat_possible)\n            } catch (error) {\n                console.log(\"useAvailableRecollat \", error);\n            }\n        }\n        get()\n    }, [setAvailableRecollat, slowRefresh, validChainId, web3])\n}\n\nexport const useRedemptionDelay = () => {\n    const poolData = useRecoilValue(husdPoolDataState)\n    const { redemption_delay } = poolData\n    const blockNumber = useRecoilValue(blockNumberState)\n    const [forceRefresh, setForceRefresh] = useState(0)\n\n    useEffect(() => {\n        if (blockNumber % redemption_delay === 0) {\n            setForceRefresh(f => f + 1)\n        }\n    }, [blockNumber, redemption_delay])\n\n    return forceRefresh\n}\n\nexport const useHusdPoolData = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { account, chainId } = useWeb3React()\n    const { slowRefresh } = useRefresh()\n    // const forceRefresh = useRedemptionDelay()\n    const setHusdPoolData = useSetRecoilState(husdPoolDataState)\n\n    useEffect(() => {\n        const get = async () => {\n\n            try {\n                const mul = await multicall(web3, HusdPoolAbi, getHusdPoolData(validChainId, collatUsdPrice, account), validChainId)\n\n                const [\n                    collatDollarBalance,\n                    availableExcessCollatDV,\n                    pool_ceiling,\n                    redemption_fee,\n                    minting_fee,\n                    buyback_fee,\n                    recollat_fee,\n                    recollateralizePaused,\n                    buyBackPaused,\n                    mintPaused,\n                    redeemPaused,\n                    bonus_rate,\n                    redemption_delay,\n                    redeemDEUSBalances,\n                    redeemCollateralBalances,\n                ] = mul\n                const updateState = {\n                    collatDollarBalance: fromWei(collatDollarBalance, 18),\n                    availableExcessCollatDV: new BigNumber(availableExcessCollatDV).div(1e18).toFixed(),\n                    pool_ceiling: fromWei(pool_ceiling, 6),\n                    redemption_fee: new BigNumber(redemption_fee).div(10000).toNumber(),\n                    minting_fee: new BigNumber(minting_fee).div(10000).toNumber(),\n                    buyback_fee: new BigNumber(buyback_fee).toNumber(),\n                    recollat_fee: new BigNumber(recollat_fee).toNumber(),\n                    bonus_rate: new BigNumber(bonus_rate).toNumber(),\n                    redemption_delay: new BigNumber(redemption_delay).toNumber(),\n                    redeemPaused: redeemPaused[0],\n                    mintPaused: mintPaused[0],\n                    buyBackPaused: buyBackPaused[0],\n                    recollateralizePaused: recollateralizePaused[0],\n                    redeemDEUSBalances: account ? fromWei(redeemDEUSBalances, 18) : \"0\",\n                    redeemCollateralBalances: account ? fromWei(redeemCollateralBalances, collateralToken[validChainId].decimals) : \"0\",\n                }\n                setHusdPoolData({ ...updateState })\n            } catch (error) {\n                console.log(\"useHusdPoolData \", error);\n            }\n\n        }\n        get()\n    }, [setHusdPoolData, slowRefresh, web3, account, validChainId, chainId]) //TODO forceRefresh\n}\n\nexport const useCollatRatio = (validChainId) => {\n    const web3 = useCrossWeb3(validChainId)\n    const { slowRefresh } = useRefresh()\n    const setCollatRatio = useSetRecoilState(collatRatioState)\n\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const cr = await getDeiInfo(web3, validChainId)\n                setCollatRatio(new BigNumber(fromWei(cr[1], dollarDecimals)).times(100).toNumber())\n            } catch (error) {\n                console.log(\"useCollatRatio \", error);\n            }\n        }\n        get()\n    }, [slowRefresh, web3, setCollatRatio, validChainId])\n}\n\nexport const useDeiUpdate = (validChainId) => {\n    useCollatRatio(validChainId)\n    useDeiPrices(validChainId)\n    useHusdPoolData(validChainId)\n}\n\nexport const useDeiUpdateRedeem = (validChainId) => {\n    useCollatRatio(validChainId)\n    useDeiPrices(validChainId)\n    useHusdPoolData(validChainId)\n}\n\nexport const useDeiUpdateBuyBack = (validChainId) => {\n    useDeiPrices(validChainId)\n    useAvailableRecollat(validChainId)\n    useHusdPoolData(validChainId)\n\n}\n\nexport const useDeiPrices = (validChainId) => {\n    const { slowRefresh } = useRefresh()\n    const setRefreshRatio = useSetRecoilState(deiPricesState)\n    useEffect(() => {\n        const get = async () => {\n            try {\n                const result = await makeDeiRequest(\"/price\", validChainId)//TODO\n                setRefreshRatio(result)\n            } catch (error) {\n                console.log(\"useDeiPrices \", error);\n            }\n        }\n        get()\n    }, [slowRefresh, validChainId, setRefreshRatio])\n}\n\nexport const useAllowance = (currency, contractAddress, validChainId, fastUpdate) => {\n    const [allowance, setAllowance] = useState(new BigNumber(-1))\n    const { account, chainId } = useWeb3React()\n    const web3 = useCrossWeb3(validChainId)\n    const { fastRefresh } = useRefresh()\n    const { address: tokenAddress } = currency\n    const contract = useCrossERC20(tokenAddress, web3)\n\n    useEffect(() => {\n        const fetchAllowance = async () => {\n            if (!tokenAddress || contractAddress === undefined) return setAllowance(ZERO)\n            if (currency.chainId && currency.chainId !== validChainId) return setAllowance(ZERO)\n            if (validChainId && chainId !== validChainId) setAllowance(ZERO)\n            if (contract === null) setAllowance(ethers.constants.MaxUint256)\n            else if (currency.allowance) { setAllowance(currency.allowance) }\n            else {\n                try {\n\n                    const res = await contract.methods.allowance(account, contractAddress).call()\n                    setAllowance(new BigNumber(res))\n                } catch (error) {\n                    console.log(\"useAllowance \", currency, contractAddress, validChainId,error);\n                }\n\n            }\n        }\n        if (account && tokenAddress) {\n            fetchAllowance()\n        }\n    }, [account, contract, chainId, contractAddress, tokenAddress, validChainId, currency, fastRefresh, fastUpdate])\n\n    return allowance\n}\n","import { Interface } from '@ethersproject/abi'\nimport { getMultiCallContract } from './contractHelpers'\n\nconst multicall = async (web3, abi, calls, chainId) => {\n    const multi = getMultiCallContract(web3, chainId)\n\n    const itf = new Interface(abi)\n    const calldata = calls.map((call) => [\n        call.address.toLowerCase(),\n        itf.encodeFunctionData(call.name, call.params),\n    ])\n    const { returnData } = await multi.methods.aggregate(calldata).call()\n    const res = returnData.map((call, i) =>\n        itf.decodeFunctionResult(calls[i].name, call)\n    )\n\n    return res\n}\n\nexport { multicall }\nexport default multicall\n","import React, { useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { addToken } from '../../../utils/addTokens';\nimport { DEITokens, ZapTokens } from '../../../constant/token';\nimport { Copy, CheckCircle } from 'react-feather';\n\n\n\nconst MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 5px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 300;\n`\n\n\nconst EachUrl = styled.span`\n    cursor: pointer;\n    display: block;\n    font-size: 15px;\n    margin:10px 0;\n    font-weight: 300;\n    p{\n        display: flex;\n        align-items: center;\n    }\n    .deus{\n        &:hover{\n            color:#13a9cf;\n        }\n    }\n    .dei{\n        &:hover{\n            color:#de8c5a;\n        }\n    }\n`\n\nconst Line = styled.div`\n    width: 75%;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n    margin:auto;\n    margin-bottom: 10px;\n    margin-top: 10px;\n`\n\nconst DeusTokenBox = () => {\n    const deusToken = DEITokens[1][1]\n    const deiToken = ZapTokens[1][0]\n    const [state, setState] = useState({ \"deusToken\": false, \"deiToken\": false })\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                <EachUrl>\n                    <p className=\"deus\" onClick={() => addToken(deusToken)}>Add  <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" /> DEUS to MetaMask <img src=\"/img/metamask.png\" alt=\"metmask\" /> </p>\n                </EachUrl>\n                <EachUrl>\n                    <CopyToClipboard text={deusToken.address}\n                        onCopy={() => {\n                            setState({ ...state, \"deusToken\": true })\n                        }}>\n                        <p className=\"deus\">Copy <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" />DEUS Contract\n                            {state[\"deusToken\"] ? <CheckCircle width=\"15px\" style={{ marginLeft: \"3px\" }} /> : <Copy width=\"15px\" style={{ marginLeft: \"3px\" }} />}\n                        </p>\n                    </CopyToClipboard>\n\n                </EachUrl>\n                <Line />\n                <EachUrl>\n                    <p className=\"dei\" onClick={() => addToken(deiToken)}>Add <img src=\"/tokens/dei.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"dei\" />DEI to MetaMask <img src=\"/img/metamask.png\" alt=\"metmask\" /> </p>\n                </EachUrl>\n                <EachUrl>\n                    <CopyToClipboard text={deiToken.address}\n                        onCopy={() => {\n                            setState({ ...state, \"deiToken\": true })\n                        }}>\n                        <p className=\"dei\">Copy <img src=\"/tokens/dei.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"dei\" />DEI Contract\n                            {state[\"deiToken\"] ? <CheckCircle width=\"15px\" style={{ marginLeft: \"3px\" }} /> : <Copy width=\"15px\" style={{ marginLeft: \"3px\" }} />}\n                        </p>\n                    </CopyToClipboard>\n                </EachUrl>\n            </MainWrapper >\n        }, [deiToken, deusToken, state])\n    )\n}\n\nexport default DeusTokenBox","import { useEffect, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useCrossWeb3 } from \"./useWeb3\"\nimport { isAddress } from \"@ethersproject/address\"\nimport BigNumber from \"bignumber.js\";\nimport { useCrossERC20 } from './useContract'\nimport useRefresh from './useRefresh';\n\nconst useCrossTokenBalance = (tokenAddress, chainId, fastUpdate = null) => {\n    const [balance, setBalance] = useState(new BigNumber(0))\n    const { account } = useWeb3React()\n    // console.log(tokenAddress, chainId);\n    const web3 = useCrossWeb3(chainId)\n    // console.log(\"web3 \", web3.currentProvider);\n    const contract = useCrossERC20(tokenAddress, web3)\n    const { fastRefresh } = useRefresh()\n    useEffect(() => {\n        const fetchBalance = async () => {\n            let walletBalance = null\n            try {\n                if (!isAddress(tokenAddress)) {\n                    walletBalance = await web3.eth.getBalance(account)\n                } else {\n                    walletBalance = await contract.methods.balanceOf(account).call()\n                }\n                setBalance(new BigNumber(walletBalance))\n            } catch (error) {\n                console.log(`get Balance of ${tokenAddress} with chainId ${chainId}`, error);\n            }\n\n        }\n\n        if (account && tokenAddress) {\n            fetchBalance()\n        } else {\n            setBalance(\"\")\n        }\n    }, [account, tokenAddress, web3, chainId, contract, fastRefresh, fastUpdate])\n\n    return balance\n}\n\n\nexport default useCrossTokenBalance","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { makeCostDataRedeem, makeCostData } from '../../../helper/deiHelper'\nimport { useRecoilValue } from 'recoil';\nimport { collatRatioState, deiPricesState } from '../../../store/dei';\nimport { husdPoolDataState } from '../../../store/dei'\nimport { ChainId } from '../../../constant/web3';\n\nexport const MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 15px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 18px;\n    margin-bottom: 10px;\n    padding-top: 0;\n    padding-bottom: 0;\n    font-weight: 300;\n`\n\nexport const FeeWrapper = styled.div`\n    display: block;\n    margin-top: 15px;\n    margin-bottom: 15px;\n    font-size: 15px;\n`\n\nexport const FeeTitle = styled.span`\n    color: #0DB0F4;\n`\n\nexport const FeePrice = styled.div`\n    display: flex;\n    align-items: center;\n    height: 18px;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      justify-content: center;\n    `}\n`\n\nexport const CostBox = ({ type, chainId }) => {\n\n    const deusPrices = useRecoilValue(deiPricesState)\n    const deiPrice = deusPrices ? deusPrices.dei_price : null\n    const collatRatio = useRecoilValue(collatRatioState)\n    const { pool_ceiling: poolCeiling, collatDollarBalance: poolBalance } = useRecoilValue(husdPoolDataState)\n    let costs = null\n    if (type === 'mint') costs = makeCostData(deiPrice, collatRatio, poolBalance, poolCeiling, chainId === ChainId.BSC ? 18 : 6)\n    else if (type === 'redeem') costs = makeCostDataRedeem(collatRatio, poolBalance, chainId)\n\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                {costs.map((cost, index) => {\n                    return <FeeWrapper key={index}>\n                        <FeeTitle> {cost.name} </FeeTitle>\n                        <FeePrice> {cost.value !== null ? cost.value : <img src=\"/img/spinner.svg\" width=\"20\" height=\"20\" alt=\"sp\" />} </FeePrice>\n                    </FeeWrapper>\n                })}\n            </MainWrapper>\n        }, [costs])\n    )\n}","import React, { useMemo } from 'react'\nimport { urls } from '../../../constant/staking'\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components'\n\nconst MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 15px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 300;\n`\n\nconst FlexDiv = styled.div`\n    display: flex;\n`\n\nconst TitleImage = styled.img`\n    margin-right: 9px;\n`\n\nconst TitleText = styled.span`\n    font-weight: bold;\n    font-size: 15px;\n    margin-top: 5px;\n`\n\nconst Line = styled.div`\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n    margin-bottom: 20px;\n    margin-top: 10px;\n`\n\nconst EachUrl = styled.span`\n    display: block;\n    font-size: 16px;\n    margin:10px 0;\n    font-weight: 300;\n    color: rgba(255, 255, 255, 0.5);\n    .active {\n        color: #0DB0F4;\n    }\n`\n\nconst LinkBox = () => {\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                <FlexDiv>\n                    <TitleImage src={\"/img/Dei_logo.svg\"} alt=\"Dei_logo\" width=\"30\" />\n                    <TitleText> DEI Stable Coin </TitleText>\n                </FlexDiv>\n\n                <Line />\n\n                {urls.map((url, index) => {\n                    return <EachUrl key={index + \"url\"}>\n                        <NavLink to={url.link}> {url.name} </NavLink>\n                    </EachUrl>\n                })}\n\n                {/* <Line2 />\n\n                <BottomTextDiv>\n                    If you need more help visit the{' '}\n                    <WikiLink href=\"https://wiki.deus.finance/docs/\" target=\"_blank\">wiki</WikiLink>.\n                </BottomTextDiv> */}\n            </MainWrapper>\n        }, [])\n    )\n}\n\nexport default LinkBox","export function addToken(token, base) {\n    const { address, symbol, decimals } = token\n    const image = `https://${base ?? \"app\"}.deus.finance` + token.logo\n\n    if (window.ethereum) {\n        window.ethereum.request({\n            method: 'wallet_watchAsset',\n            params: {\n                type: 'ERC20',\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image,\n                },\n            },\n        }).then((success) => {\n            if (success) {\n                console.log(symbol + ' successfully added to wallet!')\n            } else {\n                throw new Error('Something went wrong.')\n            }\n        }).catch(console.error)\n    }\n}","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { ExternalLink } from '../Link';\nimport { DEITokens } from '../../../constant/token';\nimport { NavLink } from 'react-router-dom';\n\nconst MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 5px 20px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 300;\n`\n\n\nconst EachUrl = styled.span`\n    cursor: pointer;\n    display: block;\n    font-size: 15px;\n    margin:10px 0;\n    font-weight: 300;\n    &.uni:hover{\n        color: #f62d8d;\n        opacity: 1;\n    }\n    &.quick:hover{\n        color: #6db7ff;\n        opacity: 1;\n    }\n    &.uni{\n        opacity: 0.75;\n    }\n    &.quick{\n        opacity: 0.75;\n    }\n    &.deusSwap:hover{\n        color: #6db7ff;\n    }\n    a{\n        display: flex;\n        align-items: center;\n    }\n`\n\nconst DeiTokenBox = () => {\n    const deusToken = DEITokens[1][1]\n    return (\n        useMemo(() => {\n            return <MainWrapper>\n                <EachUrl className=\"deusSwap\" >\n                    <NavLink textDecoration=\"none\" to={\"/swap\"}> Buy  <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" />DEUS on  DEUS Swap </NavLink>\n                </EachUrl>\n                <EachUrl className=\"uni\" >\n                    <ExternalLink textDecoration=\"none\" href={`https://app.uniswap.org/#/swap?use=V2&outputCurrency=${deusToken.address}&inputCurrency=ETH`}> Buy  <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\" }} alt=\"deus\" />DEUS on  Uniswap <img src=\"/img/uniswap.png\" style={{ width: \"20px\", marginLeft: \"4px\" }} alt=\"uniswap\" /></ExternalLink>\n                </EachUrl>\n                <EachUrl className=\"quick\">\n                    <ExternalLink textDecoration=\"none\" href={`https://quickswap.exchange/#/swap?outputCurrency=${deusToken.address}&inputCurrency=MATIC`}> Buy <img src=\"/tokens/deus.svg\" style={{ width: \"20px\", marginLeft: \"4px\", marginRight: \"2px\", }} alt=\"deus\" />DEUS on QuickSwap <img src=\"/img/quickswap.png\" style={{ width: \"20px\", marginLeft: \"4px\", borderRadius: \"50%\" }} alt=\"quickswap\" /></ExternalLink>\n                </EachUrl>\n\n            </MainWrapper>\n        }, [deusToken])\n    )\n}\n\nexport default DeiTokenBox\n","import React, { useState, useMemo, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { ButtonSyncDeactivated, ButtonSyncActive } from '../Button';\nimport { FlexCenter } from '../Container';\nimport { useWeb3React } from '@web3-react/core';\nimport { isGt, isZero } from '../../../constant/number';\nimport Wallets from '../../common/Navbar/Wallets';\n\nconst errors = {\n    NotConnected: \"CONNECT WALLET\",\n    WrongNetwork: \"WRONG NETWORK\",\n    EMPTY: \"ENTER AN AMOUNT\",\n    EMPTY_PROXY: \"ENTER \\\"DEI\\\" AMOUNT\",\n    INSUFFICIENT: \"INSUFFICIENT BALANCE\",\n    LOADING: \"LOADING...\",\n}\n\nconst WrapActions = styled.div`\n    margin-top:33px;\n    height: \"55px\";\n    display:flex;\n    font-size:20px;\n    font-family:\"Monument Grotesk Semi\";\n    & > button {\n        margin:0px 5px;\n    }\n`\nexport const ButtonSwap = styled(ButtonSyncActive)`\n  background: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3};\n  color: ${({ theme }) => theme.text1_2};\n  font-size:${({ fontSize }) => fontSize || \"20px\"};\n`\n\nconst WrapStep = styled(FlexCenter)`\nmargin-top:10px;\n`\n\nconst CycleNumber = styled(FlexCenter)`\nwidth:20px;\nheight:20px;\nborder-radius:20px;\nbackground: ${({ theme, bgColor, active }) => active ? bgColor ? theme[bgColor] : theme.grad3 : theme.border1};\ncolor: ${({ theme, active }) => active ? theme.text1_2 : theme.text1};\nz-index: 0;\nfont-size:12px;\nmargin:0 -1px;\n`\nconst Line = styled.div`\nbackground: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3} ;\nheight: 2px;\nwidth: 50%;\n`\nconst SwapAction = ({ text = \"SWAP\", proxy, isPreApproved, amountIn, debouncedAmountIn, amountOut, swapState, TokensMap, isApproved, loading, swapLoading = false, validNetworks = [4, 1], handleApprove, handleSwap, bgColor, targetToken, isMint = false }) => {\n    const { account, chainId } = useWeb3React()\n    const [showWallets, setShowWallets] = useState(false)\n    const checkError = () => {\n        if (chainId && validNetworks.indexOf(chainId) === -1) return errors.WrongNetwork\n        if (amountIn === \"\" || isZero(amountIn)) return proxy ? errors.EMPTY_PROXY : errors.EMPTY\n        if (swapState && isGt(amountIn, TokensMap[swapState.from.address]?.balance)) return errors.INSUFFICIENT\n        if (isNaN(amountOut) || isPreApproved === null || (isMint && isApproved === null) || amountOut === \"\" || (debouncedAmountIn && debouncedAmountIn !== amountIn)) return errors.LOADING\n        return null;\n    }\n\n    useEffect(() => {\n        if (account)\n            setShowWallets(false)\n    }, [account])\n\n    const error = checkError()\n\n    return (useMemo(() => {\n        if (!account) {\n            return <WrapActions>\n                <Wallets showWallets={showWallets} setShowWallets={setShowWallets} />\n                <ButtonSwap bgColor={bgColor} active={true} onClick={() => setShowWallets(true)}>\n                    CONNECT WALLET\n                </ButtonSwap>\n            </WrapActions>\n        }\n\n        if (error)\n            return <WrapActions>\n                <ButtonSyncDeactivated >{error}</ButtonSyncDeactivated>\n            </WrapActions>\n\n        return <>\n            {(isMint && isApproved === true) || (!isMint && isPreApproved) ?\n                <WrapActions>\n                    <ButtonSwap active={true} fontSize={\"25px\"} onClick={handleSwap} bgColor={bgColor}>{text}\n                        {swapLoading && <img style={{ position: \"absolute\", right: \"10px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"40\" height=\"40\" />}\n                    </ButtonSwap>\n                </WrapActions> : <>\n                    <WrapActions>\n                        {!isApproved ? <>\n                            <ButtonSwap bgColor={bgColor} active={true} onClick={handleApprove} >\n                                APPROVE {targetToken && targetToken.symbol}\n                                {loading && <img style={{ position: \"absolute\", right: \"0px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"30\" height=\"30\" />}\n                            </ButtonSwap>\n                            <ButtonSyncDeactivated>{text}</ButtonSyncDeactivated>\n                        </> : <>\n                            <ButtonSyncDeactivated>APPROVED</ButtonSyncDeactivated>\n                            <ButtonSwap bgColor={bgColor} active={true} onClick={handleSwap}>\n                                {text}\n                                {swapLoading && <img style={{ position: \"absolute\", right: \"0px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"30\" height=\"30\" />}\n                            </ButtonSwap>\n                        </>\n                        }\n                    </WrapActions>\n                    <WrapStep bgColor={bgColor}>\n                        <CycleNumber bgColor={bgColor} active={true}>1</CycleNumber>\n                        <Line bgColor={bgColor}></Line>\n                        <CycleNumber bgColor={bgColor} active={isApproved}>2</CycleNumber>\n                    </WrapStep>\n                </>\n            }\n        </>\n    }, [account, showWallets, setShowWallets, targetToken, isMint, isApproved, isPreApproved, handleApprove, handleSwap, bgColor, text, loading, swapLoading, error])\n\n    );\n}\n\nexport default SwapAction;","import React from 'react';\nimport { NameChainId } from '../../../constant/web3';\nimport styled from 'styled-components'\nimport { addRPC } from '../../../services/addRPC';\n\nconst MainItemsDiv = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n`\n\nconst NameItemsDiv = styled.div`\n    display: flex;\n    justify-content: center;\n    background: #272727;\n    padding: 6px 16px;\n    margin: 8px;\n    margin-left: 0;\n    font-size: 15px;\n    border-radius: 6px;\n    cursor: pointer;\n    opacity: 0.5;\n    opacity: ${({ chain, currRow }) => (chain === currRow) && \"1\"};\n    color: ${({ chain, currRow }) => (chain === currRow) ? \"#000\" : \"#FFF\"};\n    font-weight: ${({ chain, currRow }) => (chain === currRow) ? \"600\" : \"normal\"};\n    background: ${({ theme, chain, currRow }) => (chain === currRow) && theme.ChainId[chain]};\n    border: 1px solid ${({ chain, currRow }) => (chain === currRow) ? \"black\" : \"transparent\"};\n`\n\nconst SelectBox = ({ currRow, validNetworks, account, web3 }) => {\n    const networks = validNetworks\n    return (<MainItemsDiv>\n        {networks.map((chain, id) => {\n            return <span key={id} onClick={() => addRPC(account, chain, web3)}>\n                <NameItemsDiv chain={chain} currRow={currRow}>\n                    {NameChainId[chain].toUpperCase()}\n                </NameItemsDiv>\n            </span>\n        })}\n    </MainItemsDiv>\n    );\n}\n\nexport default SelectBox;\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core';\nimport SelectBox from './SelectBox';\n\nexport const MainWrapper = styled.div`\n    font-family: 'Monument Grotesk';\n    width: 100%;\n    padding: 20px 25px;\n    background: #0d0d0d;\n    border: 1px solid #1c1c1c;\n    border-radius: 10px;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 15px;\n    line-height: 20px;\n    margin-bottom: 18px;\n    padding-top: 10px;\n    padding-bottom: 0;\n    font-weight: 300;\n`\n\nexport const Chains = ({ validChainId, validNetworks }) => {\n    const { account } = useWeb3React()\n    return (<MainWrapper>\n        <p style={{ opacity: \"0.7\", fontSize: \"13px\" }}>Select Chain  <span style={{ color: \"#d28787\" }}>{!account ? \"(Connect your wallet)\" : \"\"}</span> </p>\n        <SelectBox currRow={validChainId} validNetworks={validNetworks} account={account} />\n    </MainWrapper>\n    )\n}\n","import { DEI_COLLATERAL_STAKING, DEI_DEUS_STAKING, DEI_COLLATERAL_ZAP, DEI_DEUS_ZAP, DEUS_NATIVE_STAKING } from \"./contracts\"\nimport { deiDeusLpToken, deiCollateralLpToken, DeusNativeLpToken } from \"./token\"\nimport { ChainId } from \"./web3\"\n\nexport const urls = [{\n  name: 'Mint',\n  link: '/stable/mint'\n},\n{\n  name: 'Redeem',\n  link: '/stable/redeem'\n},\n{\n  name: 'Zap',\n  link: '/stable/zap'\n},\n{\n  name: 'Farms',\n  link: '/stable/farms'\n},\n]\n\nexport const StakingConfig = {\n  [ChainId.MATIC]: [\n    {\n      id: 0,\n      title: \"DEI-USDC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/usdc.svg\",\n      depositToken: deiCollateralLpToken[ChainId.MATIC],\n      stakingContract: DEI_COLLATERAL_STAKING[ChainId.MATIC],\n      zapperContract: DEI_COLLATERAL_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3/0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\",\n      apy: \"50\"\n    },\n    {\n      id: 1,\n      title: \"DEI-DEUS\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/deus.svg\",\n      depositToken: deiDeusLpToken[ChainId.MATIC],\n      stakingContract: DEI_DEUS_STAKING[ChainId.MATIC],\n      zapperContract: DEI_DEUS_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3\",\n      apy: \"100\"\n    },\n    {\n      id: 2,\n      title: \"DEUS-MATIC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/matic.png\",\n      depositToken: DeusNativeLpToken[ChainId.MATIC],\n      stakingContract: DEUS_NATIVE_STAKING[ChainId.MATIC],\n      zapperContract: DEI_DEUS_ZAP[ChainId.MATIC],\n      provideLink: \"https://quickswap.exchange/#/add/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44/ETH\",\n      apy: \"50\"\n    }\n  ],\n  [ChainId.ETH]: [\n    {\n      id: 0,\n      title: \"DEI-USDC\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/usdc.svg\",\n      depositToken: deiCollateralLpToken[ChainId.ETH],\n      stakingContract: DEI_COLLATERAL_STAKING[ChainId.ETH],\n      zapperContract: DEI_COLLATERAL_ZAP[ChainId.ETH],\n      provideLink: \"https://curve.fi/factory/47/deposit\",\n      apy: \"50\"\n    },\n    {\n      id: 1,\n      title: \"DEI-DEUS\",\n      pic1: \"/tokens/dei.svg\",\n      pic2: \"/tokens/deus.svg\",\n      depositToken: deiDeusLpToken[ChainId.ETH],\n      stakingContract: DEI_DEUS_STAKING[ChainId.ETH],\n      zapperContract: DEI_DEUS_ZAP[ChainId.ETH],\n      provideLink: \"https://app.uniswap.org/#/add/v2/0xDE12c7959E1a72bbe8a5f7A1dc8f8EeF9Ab011B3/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44?use=V2\",\n      apy: \"100\"\n    },\n    {\n      id: 2,\n      title: \"DEUS-ETH\",\n      pic1: \"/tokens/deus.svg\",\n      pic2: \"/tokens/eth_logo.svg\",\n      depositToken: DeusNativeLpToken[ChainId.ETH],\n      stakingContract: DEUS_NATIVE_STAKING[ChainId.ETH],\n      zapperContract: DEI_DEUS_ZAP[ChainId.ETH],\n      provideLink: \"https://app.uniswap.org/#/add/v2/ETH/0xDE5ed76E7c05eC5e4572CfC88d1ACEA165109E44\",\n      apy: \"50\"\n    }\n  ],\n}","import React, { useState, useMemo, useCallback } from 'react';\nimport styled from 'styled-components'\nimport { StyleSwapBase, StyleTitles } from '.';\nimport { Base } from '../Button';\nimport { FlexCenter } from '../Container';\nimport { Type } from '../Text';\n\n\nconst Wrapper = styled(FlexCenter)`\n    ${StyleSwapBase}\n    ${StyleTitles}\n    margin-top:-1px;\n    justify-content:space-between;\n    padding:10px 20px;\n    &::first-child{\n        position:absolute;\n        left:20px;\n    }\n    \n`\nexport const Option = styled(Base)`\n  display:inline-flex;\n  height:25px;\n\n  color: ${({ theme, active }) => active ? theme.text1_2 : theme.text1};\n  background: ${({ theme, bgColor, active }) => active ? bgColor ? theme[bgColor] : theme.grad3 : theme.text1_2};\n  border: ${({ active }) => active || \"1px\"} solid ${({ theme }) => theme.text1};\n  margin:1px;\n  margin-right:5px;\n  width:50px;\n  font-size: 13px;\n  transition:all 0s ;\n  cursor:${({ active }) => active ? \"default\" : \"pointer\"};\n  &:hover{\n    background : ${({ active, bgColor, theme }) => active ? bgColor ? theme[bgColor] : theme.grad3 : \"#5f5f5f\"};\n  }\n`\n\nexport const CustomOption = styled.div`\n   font-size: 13px;\n    height:25px;\n    margin:1px;\n   border: 1px solid ${({ theme, active }) => active ? theme.success : theme.text1};\n   padding:0 5px;\n   display:inline-flex;\n   justify-content:flex-end;\n   align-items:center;\n   border-radius: 6px;\n`\n\n\nconst InputSlippage = styled.input.attrs(\n    { type: \"number\", min: 0.1 }\n)`\n   direction:rtl;\n   color:#FFFFFF;\n   border:0;\n   outline:none;\n   width:60px;\n   margin-right:2px;\n   background:transparent;\n\n`\nconst defaultAmounts = [0.1, 0.5, 1]\nconst SlippageTolerance = ({ slippage, setSlippage, style, bgColor }) => {\n    const [customActive, setCustomActive] = useState(false)\n\n    const handleMinSlippage = useCallback(() => {\n        if (slippage < 0.1) {\n            setSlippage(0.1)\n            setCustomActive(false)\n        }\n    }, [setSlippage, slippage, setCustomActive])\n\n    const handleCustomChange = useCallback((e) => {\n        if (e.currentTarget.value !== \"\") {\n            setCustomActive(true)\n            setSlippage(parseFloat(e.currentTarget.value))\n        } else {\n            setCustomActive(false)\n            setSlippage(0.5)\n        }\n    }, [setSlippage, setCustomActive])\n\n    return (useMemo(() => {\n        return <Wrapper style={style}>\n            <Type.SM className=\"inner-title\">Slippage Tolerance</Type.SM>\n            <div style={{ display: \"inline-block\" }} height=\"25px\">\n                {defaultAmounts.map(amount => {\n                    return <Option key={amount} active={amount === slippage && !customActive} bgColor={bgColor} onClick={() => {\n                        setCustomActive(false)\n                        setSlippage(amount)\n                    }}>{amount}%</Option>\n                })}\n                <CustomOption active={customActive}  >\n                    <InputSlippage\n                        placeholder={slippage.toFixed(1)}\n                        value={customActive ? slippage : \"\"}\n                        onBlur={handleMinSlippage}\n                        onChange={(e) => handleCustomChange(e)}\n                    />\n                    %\n                </CustomOption>\n            </div>\n        </Wrapper >\n    }, [style, setSlippage, handleCustomChange, handleMinSlippage, slippage, setCustomActive, bgColor, customActive])\n    );\n}\n\nexport default SlippageTolerance;","module.exports = __webpack_public_path__ + \"static/media/circle-token.b73ccd4b.svg\";","import { useEffect, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport useWeb3 from \"./useWeb3\"\nimport { isAddress } from \"@ethersproject/address\"\nimport ERC20Abi from '../config/abi/ERC20Abi.json'\n\nimport { getFullDisplayBalance } from '../helper/formatBalance';\nimport multicall from '../helper/multicall'\nimport useRefresh from './useRefresh'\n\nconst useTokenBalances = (tokensMap, validChainId) => {\n    const [balances, setBalances] = useState(tokensMap)\n    const { account, chainId } = useWeb3React()\n    const web3 = useWeb3()\n    const { slowRefresh } = useRefresh()\n\n    useEffect(() => {\n\n        const fetchBalances = async () => {\n\n            if (validChainId !== chainId) return\n\n            const calls = Object.keys(tokensMap).filter((address) => isAddress(address)).map((address) => {\n                return {\n                    address: address,\n                    name: 'balanceOf',\n                    params: [account],\n                }\n            })\n\n            const result = await multicall(web3, ERC20Abi, calls, validChainId)\n            for (let i = 0; i < result.length; i++) {\n                const balance = result[i];\n                const address = web3.utils.toChecksumAddress(calls[i].address)\n                if (tokensMap[address]){\n                    tokensMap[address].balance = getFullDisplayBalance(balance, tokensMap[address]?.decimals)\n                }\n            }\n\n            if (tokensMap[\"0x\"]) {\n                const ethBalance = await web3.eth.getBalance(account)\n                tokensMap[\"0x\"].balance = getFullDisplayBalance(ethBalance, tokensMap[\"0x\"]?.decimals)\n            }\n            setBalances(tokensMap)\n        }\n\n        if (account) {\n            fetchBalances()\n        }\n    }, [account, tokensMap, validChainId, chainId, slowRefresh, web3])\n\n    return balances\n}\n\n\n\nexport default useTokenBalances","import React, { useMemo } from 'react';\nimport { SmallWrapper } from '.';\nimport { Type } from '../Text';\n\nconst SwapCard = ({ title, value, style }) => {\n    return (useMemo(() => {\n        return <SmallWrapper mt=\"0\" style={style}>\n            <Type.SM className=\"inner-title\">{title}</Type.SM>\n            <Type.SM>\n                {value ? value : <img src=\"/img/spinner.svg\" width=\"20\" height=\"20\" alt=\"sp\" />}\n            </Type.SM>\n        </SmallWrapper>\n    }, [title, value, style])\n    );\n}\nexport default SwapCard\n"],"sourceRoot":""}